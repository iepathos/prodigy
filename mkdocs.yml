# Material MkDocs Configuration
site_name: Prodigy Documentation
site_description: AI-powered workflow orchestration for development teams
site_author: Glen Baker
site_url: https://entropicdrift.com

# Repository
repo_name: iepathos/prodigy
repo_url: https://github.com/iepathos/prodigy
edit_uri: edit/main/docs/

# Copyright
copyright: Copyright &copy; 2024 Glen Baker

# Documentation source (MkDocs-specific, enhanced with Material features)
# mdbook uses book/src/ separately
docs_dir: docs
site_dir: site

# Theme Configuration
theme:
  name: material
  palette:
    - scheme: default
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    - scheme: slate
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-4
        name: Switch to light mode

  features:
    - navigation.tabs
    - navigation.sections
    - navigation.expand
    - navigation.top
    - navigation.tracking
    - navigation.indexes
    - search.suggest
    - search.highlight
    - content.code.copy
    - content.code.annotate

  icon:
    repo: fontawesome/brands/github

# Plugins
plugins:
  - search:
      lang: en

# Extensions
markdown_extensions:
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - toc:
      permalink: true

  - pymdownx.betterem:
      smart_enable: all
  - pymdownx.caret
  - pymdownx.details
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.highlight:
      anchor_linenums: true
  - pymdownx.inlinehilite
  - pymdownx.keys
  - pymdownx.mark
  - pymdownx.smartsymbols
  - pymdownx.superfences
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true

# Navigation - mirrors SUMMARY.md structure (shared with mdbook)
nav:
  - Home: index.md
  - Installation: installation.md

  - User Guide:
    - Workflow Basics:
      - workflow-basics/index.md
      - Workflow Structure: workflow-basics/workflow-structure.md
      - Full Workflow Structure: workflow-basics/full-workflow-structure.md
      - Available Fields: workflow-basics/available-fields.md
      - Command Types: workflow-basics/command-types.md
      - Command-Level Options: workflow-basics/command-level-options.md
      - Conditional Execution: workflow-basics/conditional-execution.md
      - Error Handling: workflow-basics/error-handling.md
      - Variables: workflow-basics/variables.md
      - Environment: workflow-basics/environment.md
      - Environment Configuration: workflow-basics/environment-configuration.md
      - Merge Workflows: workflow-basics/merge-workflows.md
      - Complete Example: workflow-basics/complete-example.md
      - Next Steps: workflow-basics/next-steps.md
    - MapReduce Workflows:
      - mapreduce/index.md
      - Overview: mapreduce/overview.md
      - Work Distribution: mapreduce/work-distribution.md
      - Environment Variables in Configuration: mapreduce/environment-variables-in-configuration.md
      - Backoff Strategies: mapreduce/backoff-strategies.md
      - Error Collection Strategies: mapreduce/error-collection-strategies.md
      - Setup Phase (Advanced): mapreduce/setup-phase-advanced.md
      - Global Storage Architecture: mapreduce/global-storage-architecture.md
      - Event Tracking: mapreduce/event-tracking.md
      - Checkpoint and Resume: mapreduce/checkpoint-and-resume.md
      - Dead Letter Queue (DLQ): mapreduce/dead-letter-queue-dlq.md
      - Workflow Format Comparison: mapreduce/workflow-format-comparison.md
    - Command Types: commands.md
    - Variables and Interpolation:
      - variables/index.md
      - Available Variables: variables/available-variables.md
      - Custom Variable Capture: variables/custom-variable-capture.md
      - Troubleshooting Variable Interpolation: variables/troubleshooting-variable-interpolation.md
      - See Also: variables/see-also.md
    - Environment Configuration:
      - environment/index.md
      - MapReduce Environment Variables: environment/mapreduce-environment-variables.md
      - Environment Files: environment/environment-files.md
      - Secrets Management: environment/secrets-management.md
      - Environment Profiles: environment/environment-profiles.md
      - Per-Command Environment Overrides: environment/per-command-environment-overrides.md
      - Environment Precedence: environment/environment-precedence.md
      - Best Practices: environment/best-practices.md
      - Common Patterns: environment/common-patterns.md
    - Configuration:
      - configuration/index.md
      - Configuration Precedence Rules: configuration/configuration-precedence-rules.md
      - Global Config: configuration/global-config.md
      - Global Configuration Structure: configuration/global-configuration-structure.md
      - Project Configuration Structure: configuration/project-configuration-structure.md
      - Workflow Configuration: configuration/workflow-configuration.md
      - Storage Configuration: configuration/storage-configuration.md
      - Environment Variables: configuration/environment-variables.md
      - Complete Configuration Examples: configuration/complete-configuration-examples.md
      - Default Values Reference: configuration/default-values-reference.md
      - Best Practices: configuration/best-practices.md
      - Troubleshooting: configuration/troubleshooting.md
      - 'Migration Guide: TOML to YAML': configuration/migration-guide-toml-to-yaml.md
      - Related Documentation: configuration/related-documentation.md

  - Advanced:
    - Advanced Features:
      - advanced/index.md
      - Step Identification: advanced/step-identification.md
      - Timeout Configuration: advanced/timeout-configuration.md
      - Implementation Validation: advanced/implementation-validation.md
      - Parallel Iteration with Foreach: advanced/parallel-iteration-with-foreach.md
      - Goal-Seeking Operations: advanced/goal-seeking-operations.md
      - Composition: advanced/composition.md
      - Git Integration: advanced/git-integration.md
      - Observability: advanced/observability.md
      - Sessions: advanced/sessions.md
      - Storage: advanced/storage.md
    - Advanced Git Context: git-context-advanced.md
    - Workflow Composition:
      - composition/index.md
      - Workflow Extension (Inheritance): composition/workflow-extension-inheritance.md
      - Template System: composition/template-system.md
      - Parameter Definitions: composition/parameter-definitions.md
      - Default Values: composition/default-values.md
      - Sub-Workflows: composition/sub-workflows.md
      - Composition Metadata: composition/composition-metadata.md
      - Complete Examples: composition/complete-examples.md
      - Troubleshooting: composition/troubleshooting.md
    - Retry Configuration:
      - retry-configuration/index.md
      - Basic Retry Configuration: retry-configuration/basic-retry-configuration.md
      - Backoff Strategies: retry-configuration/backoff-strategies.md
      - Backoff Strategy Comparison: retry-configuration/backoff-strategy-comparison.md
      - Jitter for Distributed Systems: retry-configuration/jitter-for-distributed-systems.md
      - Conditional Retry with Error Matchers: retry-configuration/conditional-retry-with-error-matchers.md
      - Retry Budget: retry-configuration/retry-budget.md
      - Failure Actions: retry-configuration/failure-actions.md
      - Complete Examples: retry-configuration/complete-examples.md
      - Workflow-Level vs Command-Level Retry: retry-configuration/workflow-level-vs-command-level-retry.md
      - Retry Metrics and Observability: retry-configuration/retry-metrics-and-observability.md
      - Best Practices: retry-configuration/best-practices.md
      - Troubleshooting: retry-configuration/troubleshooting.md
      - Implementation References: retry-configuration/implementation-references.md
    - Error Handling: workflow-basics/error-handling.md
    - MapReduce Worktree Architecture: mapreduce-worktree-architecture.md
    - Automated Documentation:
      - automated-documentation/index.md
      - Quick Start: automated-documentation/quick-start.md
      - Tutorial (30 Minutes): automated-documentation/tutorial.md
      - Understanding the Workflow: automated-documentation/understanding-the-workflow.md
      - MkDocs Workflow: automated-documentation/mkdocs-workflow.md
      - Automatic Gap Detection: automated-documentation/automatic-gap-detection.md
      - GitHub Actions Integration: automated-documentation/github-actions-integration.md
      - Troubleshooting: automated-documentation/troubleshooting.md
      - Advanced Configuration: automated-documentation/advanced-configuration.md
      - 'Real-World Example: Prodigy''s Own Documentation': automated-documentation/real-world-example-prodigys-own-documentation.md
      - Documentation Versioning: automated-documentation/documentation-versioning.md

  - Reference:
    - Examples: examples.md
    - Troubleshooting:
      - troubleshooting/index.md
      - Quick Reference: reference/troubleshooting.md
      - FAQ: troubleshooting/faq.md
      - Common Error Messages: troubleshooting/common-error-messages.md
      - Best Practices for Debugging: troubleshooting/best-practices-for-debugging.md

