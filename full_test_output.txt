warning: associated function `format_legacy_command` is never used
    --> src/cook/execution/mapreduce/mod.rs:3667:19
     |
981  | impl MapReduceExecutor {
     | ---------------------- associated function in this implementation
...
3667 |     pub(crate) fn format_legacy_command(name: &str) -> String {
     |                   ^^^^^^^^^^^^^^^^^^^^^
     |
     = note: `#[warn(dead_code)]` on by default

warning: `prodigy` (lib) generated 1 warning
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.13s
────────────
 Nextest run ID 4341b026-a38a-4966-b817-857fee3a86ae with nextest profile: default
    Starting 1781 tests across 12 binaries (9 tests skipped)
        PASS [   0.011s] prodigy abstractions::exit_status::tests::test_from_raw_failure
        PASS [   0.013s] prodigy abstractions::exit_status::tests::test_from_raw_success
        PASS [   0.015s] prodigy abstractions::claude::tests::test_mock_claude_unavailable
        PASS [   0.015s] prodigy abstractions::claude::tests::test_transient_error_detection
        PASS [   0.015s] prodigy abstractions::claude::tests::test_mock_claude_error_response
        PASS [   0.015s] prodigy abstractions::claude::tests::test_add_success_response
        PASS [   0.015s] prodigy abstractions::claude::tests::test_mock_claude_client
        PASS [   0.016s] prodigy abstractions::claude::tests::test_add_error_response
        PASS [   0.022s] prodigy abstractions::git::real_git_tests::test_git_command_success
        PASS [   0.010s] prodigy abstractions::git::tests::test_mock_git_error
        PASS [   0.026s] prodigy abstractions::git::real_git_tests::test_git_command_failure
        PASS [   0.026s] prodigy abstractions::git::real_git_tests::test_create_worktree_invalid_path
        PASS [   0.011s] prodigy analytics::engine::tests::test_cost_projection
        PASS [   0.011s] prodigy analytics::engine::tests::test_bottleneck_identification
        PASS [   0.011s] prodigy analytics::engine::tests::test_cross_session_analysis
        PASS [   0.012s] prodigy abstractions::git::tests::test_mock_git_operations
        PASS [   0.012s] prodigy analytics::engine::tests::test_analytics_engine_cost_calculation
        PASS [   0.028s] prodigy abstractions::git::real_git_tests::test_get_current_branch
        PASS [   0.008s] prodigy analytics::engine::tests::test_pricing_model
        PASS [   0.010s] prodigy analytics::engine::tests::test_metrics_collector
        PASS [   0.009s] prodigy analytics::engine::tests::test_session_comparison
        PASS [   0.009s] prodigy analytics::engine::tests::test_tool_usage_analysis
        PASS [   0.013s] prodigy analytics::replay::tests::test_export_transcript
        PASS [   0.014s] prodigy analytics::replay::tests::test_bookmarks
        PASS [   0.013s] prodigy analytics::replay::tests::test_session_replay_navigation
        PASS [   0.015s] prodigy analytics::session_watcher::tests::test_discover_sessions
        PASS [   0.016s] prodigy analytics::session_watcher::tests::test_empty_jsonl_handling
        PASS [   0.036s] prodigy abstractions::git::real_git_tests::test_stage_all_changes_and_commit
        PASS [   0.014s] prodigy analytics::session_watcher::tests::test_parse_jsonl_session
        PASS [   0.015s] prodigy analytics::session_watcher::tests::test_handle_malformed_jsonl
        PASS [   0.024s] prodigy analytics::persistence::tests::test_database_initialization
        PASS [   0.010s] prodigy analytics::session_watcher::tests::test_session_watcher_initialization
        PASS [   0.025s] prodigy analytics::persistence::tests::test_data_retention
        PASS [   0.025s] prodigy analytics::persistence::tests::test_session_persistence
        PASS [   0.013s] prodigy analytics::session_watcher::tests::test_token_accumulation
        PASS [   0.009s] prodigy cli::events::tests::test_event_matches_type
        PASS [   0.015s] prodigy analytics::session_watcher::tests::test_watch_multiple_projects
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_agent_failed
        PASS [   0.042s] prodigy abstractions::git::tests::test_real_git_operations_is_git_repo
        PASS [   0.010s] prodigy cli::events::tests::test_get_event_type_agent_completed
        PASS [   0.010s] prodigy cli::events::tests::test_get_event_type_agent_progress
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_empty_object
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_job_completed
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_job_failed
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_job_paused
        PASS [   0.012s] prodigy cli::events::tests::test_get_event_type_agent_started
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_job_resumed
        PASS [   0.010s] prodigy cli::events::tests::test_get_event_type_job_started
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_multiple_fields
        PASS [   0.010s] prodigy cli::events::tests::test_get_event_type_metrics_snapshot
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_nested_structure
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_pipeline_completed
        PASS [   0.011s] prodigy cli::events::tests::test_get_event_type_null_value
        PASS [   0.009s] prodigy cli::events::tests::test_get_event_type_pipeline_stage_completed
        PASS [   0.010s] prodigy cli::events::tests::test_get_event_type_pipeline_started
        PASS [   0.010s] prodigy cli::events::tests::test_get_event_type_unknown
        PASS [   0.010s] prodigy cli::workflow_generator::tests::test_generate_batch_workflow
        PASS [   0.010s] prodigy cli::workflow_generator::tests::test_parse_command_claude
        PASS [   0.012s] prodigy cli::workflow_generator::tests::test_generate_exec_workflow
        PASS [   0.009s] prodigy cli::workflow_generator::tests::test_parse_command_default
        PASS [   0.009s] prodigy cli::workflow_generator::tests::test_parse_command_shell
        PASS [   0.009s] prodigy cli::workflow_generator::tests::test_parse_command_slash
        PASS [   0.010s] prodigy commands::attributes::tests::test_attribute_value_conversions
        PASS [   0.009s] prodigy commands::context::tests::test_context_builder_pattern
        PASS [   0.010s] prodigy commands::attributes::tests::test_schema_defaults
        PASS [   0.008s] prodigy commands::context::tests::test_context_creation
        PASS [   0.011s] prodigy commands::attributes::tests::test_schema_validation
        PASS [   0.009s] prodigy commands::context::tests::test_env_vars
        PASS [   0.009s] prodigy commands::context::tests::test_metadata
        PASS [   0.009s] prodigy commands::context::tests::test_path_resolution
        PASS [   0.010s] prodigy commands::context::tests::test_with_executor
        PASS [   0.010s] prodigy commands::handlers::cargo::tests::test_cargo_build
        PASS [   0.010s] prodigy commands::handlers::cargo::tests::test_cargo_dry_run
        PASS [   0.010s] prodigy commands::handlers::cargo::tests::test_cargo_test_with_features
        PASS [   0.011s] prodigy commands::handlers::cargo::tests::test_cargo_handler_schema
        PASS [   0.009s] prodigy commands::handlers::claude::tests::test_claude_handler_dry_run
        PASS [   0.010s] prodigy commands::handlers::claude::tests::test_claude_handler_schema
        PASS [   0.010s] prodigy commands::handlers::claude::tests::test_claude_handler_execute
        PASS [   0.009s] prodigy commands::handlers::claude::tests::test_execution_failure
        PASS [   0.011s] prodigy commands::handlers::claude::tests::test_context_file_not_found
        PASS [   0.010s] prodigy commands::handlers::claude::tests::test_execution_timeout
        PASS [   0.012s] prodigy commands::handlers::claude::tests::test_default_values
        PASS [   0.009s] prodigy commands::handlers::claude::tests::test_missing_prompt_attribute
        PASS [   0.010s] prodigy commands::handlers::claude::tests::test_with_all_optional_parameters
        PASS [   0.009s] prodigy commands::handlers::claude::tests::test_with_custom_model
        PASS [   0.009s] prodigy commands::handlers::claude::tests::test_with_max_tokens
        PASS [   0.011s] prodigy commands::handlers::claude::tests::test_with_context_files
        PASS [   0.009s] prodigy commands::handlers::file::tests::test_file_dry_run
        PASS [   0.010s] prodigy commands::handlers::claude::tests::test_with_system_prompt
        PASS [   0.012s] prodigy commands::handlers::claude::tests::test_with_multiple_context_files
        PASS [   0.010s] prodigy commands::handlers::file::tests::test_file_exists
        PASS [   0.010s] prodigy commands::handlers::file::tests::test_file_handler_schema
        PASS [   0.009s] prodigy commands::handlers::git::tests::test_git_commit_dry_run
        PASS [   0.010s] prodigy commands::handlers::git::tests::test_git_handler_schema
        PASS [   0.009s] prodigy commands::handlers::git::tests::test_git_status
        PASS [   0.012s] prodigy commands::handlers::file::tests::test_file_write_and_read
        PASS [   0.009s] prodigy commands::handlers::shell::tests::test_custom_timeout
        PASS [   0.009s] prodigy commands::handlers::shell::tests::test_custom_working_directory
        PASS [   0.010s] prodigy commands::handlers::shell::tests::test_custom_shell
        PASS [   0.009s] prodigy commands::handlers::shell::tests::test_missing_command_attribute
        PASS [   0.011s] prodigy commands::handlers::shell::tests::test_environment_variables
        PASS [   0.011s] prodigy commands::handlers::shell::tests::test_execution_failure
        PASS [   0.010s] prodigy commands::handlers::shell::tests::test_non_zero_exit_code
        PASS [   0.009s] prodigy commands::handlers::shell::tests::test_shell_handler_dry_run
        PASS [   0.012s] prodigy commands::handlers::shell::tests::test_executor_error
        PASS [   0.010s] prodigy commands::handlers::shell::tests::test_shell_handler_execute
        PASS [   0.009s] prodigy commands::handlers::tests::test_all_handlers
        PASS [   0.009s] prodigy commands::handlers::shell::tests::test_shell_handler_schema
        PASS [   0.012s] prodigy commands::registry::tests::test_execute_nonexistent_handler
        PASS [   0.012s] prodigy commands::registry::tests::test_register_sync_from_non_async_context
        PASS [   0.009s] prodigy commands::result::tests::test_command_error_display
        PASS [   0.009s] prodigy commands::result::tests::test_error_result
        PASS [   0.009s] prodigy commands::result::tests::test_from_output
        PASS [   0.008s] prodigy commands::result::tests::test_success_result
        PASS [   0.009s] prodigy commands::result::tests::test_to_result
        PASS [   0.009s] prodigy commands::result::tests::test_with_duration
        PASS [   0.008s] prodigy commands::tests::test_handler_validation
        PASS [   0.008s] prodigy config::command::tests::test_analysis_config_defaults
        PASS [   0.008s] prodigy config::command::tests::test_analysis_config_serialization
        PASS [   0.007s] prodigy config::command::tests::test_analysis_config_with_defaults
        PASS [   0.008s] prodigy config::command::tests::test_command_creation
        PASS [   0.021s] prodigy commands::registry::tests::test_registry_get_handler
        PASS [   0.008s] prodigy config::command::tests::test_command_from_string
        PASS [   0.008s] prodigy config::command::tests::test_command_serialization
        PASS [   0.023s] prodigy commands::registry::tests::test_registry_execute
        PASS [   0.021s] prodigy commands::registry::tests::test_registry_registration
        PASS [   0.008s] prodigy config::command::tests::test_command_with_analysis_config
        PASS [   0.008s] prodigy config::command::tests::test_commit_required_serialization
        PASS [   0.008s] prodigy config::command::tests::test_commit_required_field
        PASS [   0.009s] prodigy config::command::tests::test_conditional_workflow_serialization
        PASS [   0.032s] prodigy commands::registry::tests::test_register_multiple_handlers
        PASS [   0.008s] prodigy config::command::tests::test_default_cache_duration
        PASS [   0.020s] prodigy commands::tests::test_command_handler_builder
        PASS [   0.009s] prodigy config::command::tests::test_untagged_enum_debug
        PASS [   0.008s] prodigy config::command::tests::test_workflow_command_with_workflow_step
        PASS [   0.009s] prodigy config::command::tests::test_workflow_command_conversion
        PASS [   0.009s] prodigy config::command::tests::test_workflow_config_with_new_syntax
        PASS [   0.009s] prodigy config::command::tests::test_workflow_step_command_parsing
        PASS [   0.009s] prodigy config::command::tests::test_workflow_step_command_with_when_clause
        PASS [   0.010s] prodigy config::command_discovery::tests::test_is_cache_valid
        PASS [   0.011s] prodigy config::command_discovery::tests::test_create_command_file_nonexistent
        PASS [   0.011s] prodigy config::command_discovery::tests::test_create_command_file
        PASS [   0.010s] prodigy config::command_discovery::tests::test_is_command_file
        PASS [   0.010s] prodigy config::command_discovery::tests::test_needs_refresh
        PASS [   0.010s] prodigy config::command_discovery::tests::test_scan_empty_directory
        PASS [   0.011s] prodigy config::command_discovery::tests::test_process_entry_with_cache
        PASS [   0.012s] prodigy config::command_discovery::tests::test_scan_commands_filters_correctly
        PASS [   0.009s] prodigy config::command_discovery::tests::test_scan_nonexistent_directory
        PASS [   0.014s] prodigy config::command_discovery::tests::test_multiple_valid_command_files
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_command_string_simple
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_command_with_args
        PASS [   0.009s] prodigy config::command_parser::tests::test_is_boolean_flag
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_command_string_with_variables
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_command_with_options
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_command_with_slash
        PASS [   0.024s] prodigy config::command_discovery::tests::test_cache_invalidation_on_file_update
        PASS [   0.013s] prodigy config::command_parser::tests::test_expand_variables
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_complex_command
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_empty_command
        PASS [   0.026s] prodigy config::command_discovery::tests::test_cache_behavior
        PASS [   0.010s] prodigy config::command_parser::tests::test_parse_command_with_variable
        PASS [   0.008s] prodigy config::command_parser::tests::test_parse_option_boolean_flag
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_option_before_another_option
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_option_at_end
        PASS [   0.009s] prodigy config::command_parser::tests::test_parse_option_with_value
        PASS [   0.009s] prodigy config::command_parser::tests::test_validate_and_split_command
        PASS [   0.009s] prodigy config::command_validator::tests::test_apply_defaults
        PASS [   0.009s] prodigy config::command_validator::tests::test_create_focus_option
        PASS [   0.010s] prodigy config::command_parser::tests::test_parse_simple_command
        PASS [   0.009s] prodigy config::command_validator::tests::test_create_metadata
        PASS [   0.009s] prodigy config::command_validator::tests::test_registry_initialization
        PASS [   0.010s] prodigy config::command_validator::tests::test_create_max_option
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_argument_counts_exact_required
        PASS [   0.008s] prodigy config::command_validator::tests::test_validate_argument_types_with_variables
        PASS [   0.009s] prodigy config::command_validator::tests::test_validate_argument_counts_too_few
        PASS [   0.009s] prodigy config::command_validator::tests::test_validate_argument_counts_too_many
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_argument_types_integer_validation
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_command_empty_command
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_command_invalid_name
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_command_options_valid
        PASS [   0.008s] prodigy config::command_validator::tests::test_validate_missing_required_args
        PASS [   0.011s] prodigy config::command_validator::tests::test_validate_command_options_invalid_type
        PASS [   0.009s] prodigy config::command_validator::tests::test_validate_optional_arguments_exceeds_limit
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_command_valid
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_option_types
        PASS [   0.009s] prodigy config::command_validator::tests::test_validate_options_with_unknown_option
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_options_type_mismatch
        PASS [   0.011s] prodigy config::command_validator::tests::test_validate_optional_arguments_within_limit
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_required_arguments_failure
        PASS [   0.009s] prodigy config::command_validator::tests::test_validate_required_arguments_with_variables
        PASS [   0.009s] prodigy config::command_validator::tests::test_validate_required_arguments_success
        PASS [   0.009s] prodigy config::command_validator::tests::test_validate_valid_command
        PASS [   0.010s] prodigy config::command_validator::tests::test_validate_unknown_command
        PASS [   0.011s] prodigy config::dynamic_registry::tests::test_check_value_type
        PASS [   0.018s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_all_metadata_unset
        PASS [   0.009s] prodigy config::dynamic_registry::tests::test_get_type_name
        PASS [   0.017s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_mixed_options
        PASS [   0.010s] prodigy config::dynamic_registry::tests::test_edge_cases_json_values
        PASS [   0.019s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_metadata_already_set
        PASS [   0.019s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_options_already_set
        PASS [   0.021s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_no_defaults
        PASS [   0.019s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_options_with_defaults
        PASS [   0.018s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_partial_metadata
        PASS [   0.018s] prodigy config::dynamic_registry::tests::test_command_discovery_and_validation
        PASS [   0.018s] prodigy config::dynamic_registry::tests::test_dynamic_registry_creation
        PASS [   0.009s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_enum
        PASS [   0.009s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_boolean
        PASS [   0.009s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_integer
        PASS [   0.011s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_path
        PASS [   0.009s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_string
        PASS [   0.010s] prodigy config::loader::tests::test_concurrent_access
        PASS [   0.018s] prodigy config::dynamic_registry::tests::test_list_commands
        PASS [   0.011s] prodigy config::loader::tests::test_load_from_path_invalid_yaml
        PASS [   0.012s] prodigy config::loader::tests::test_load_from_path_nonexistent_file
        PASS [   0.011s] prodigy config::loader::tests::test_load_from_path_unsupported_format
        PASS [   0.011s] prodigy config::loader::tests::test_load_with_default_path
        PASS [   0.020s] prodigy config::dynamic_registry::tests::test_permissive_validation
        PASS [   0.011s] prodigy config::loader::tests::test_load_with_explicit_path_yaml
        PASS [   0.015s] prodigy config::loader::tests::test_load_project_config
        PASS [   0.013s] prodigy config::loader::tests::test_load_with_explicit_path_nested_workflow
        PASS [   0.009s] prodigy config::loader::tests::test_new_creates_default_config
        PASS [   0.010s] prodigy config::loader::tests::test_load_with_no_config_uses_defaults
        PASS [   0.009s] prodigy config::mapreduce::tests::test_mixed_simplified_and_nested_syntax
        PASS [   0.011s] prodigy config::mapreduce::tests::test_nested_agent_template_syntax
        PASS [   0.010s] prodigy config::mapreduce::tests::test_parse_basic_mapreduce_workflow
        PASS [   0.011s] prodigy config::mapreduce::tests::test_nested_reduce_syntax
        PASS [   0.010s] prodigy config::mapreduce::tests::test_parse_timeout_formats
        PASS [   0.009s] prodigy config::mapreduce::tests::test_simplified_reduce_syntax
        PASS [   0.008s] prodigy config::metadata_parser::tests::test_classify_option_type_integer
        PASS [   0.010s] prodigy config::metadata_parser::tests::test_classify_option_type_boolean
        PASS [   0.011s] prodigy config::mapreduce::tests::test_simplified_agent_template_syntax
        PASS [   0.009s] prodigy config::metadata_parser::tests::test_classify_option_type_string
        PASS [   0.008s] prodigy config::metadata_parser::tests::test_parse_option_line_invalid_format
        PASS [   0.008s] prodigy config::metadata_parser::tests::test_parse_option_line_with_colon_in_description
        PASS [   0.009s] prodigy config::metadata_parser::tests::test_parse_option_line_valid
        PASS [   0.017s] prodigy config::metadata_parser::tests::test_extract_description_no_title
        PASS [   0.014s] prodigy config::metadata_parser::tests::test_extract_description_with_empty_lines
        PASS [   0.018s] prodigy config::metadata_parser::tests::test_extract_description_multiline
        PASS [   0.018s] prodigy config::metadata_parser::tests::test_extract_description_stops_at_section
        PASS [   0.016s] prodigy config::metadata_parser::tests::test_minimal_definition
        PASS [   0.017s] prodigy config::metadata_parser::tests::test_parse_frontmatter
        PASS [   0.015s] prodigy config::metadata_parser::tests::test_parse_options_empty
        PASS [   0.009s] prodigy config::tests::test_command_metadata_defaults
        PASS [   0.016s] prodigy config::metadata_parser::tests::test_parse_sections
        PASS [   0.009s] prodigy config::tests::test_command_string_parsing
        PASS [   0.010s] prodigy config::tests::test_command_serialization_roundtrip
        PASS [   0.018s] prodigy config::metadata_parser::tests::test_parse_options_multiple
        PASS [   0.009s] prodigy config::tests::test_command_validation
        PASS [   0.010s] prodigy config::tests::test_config_new_creates_defaults
        PASS [   0.010s] prodigy config::tests::test_get_auto_commit_precedence
        PASS [   0.008s] prodigy config::tests::test_get_claude_api_key_from_config
        PASS [   0.011s] prodigy config::tests::test_get_claude_api_key_config_precedence_over_env
        PASS [   0.009s] prodigy config::tests::test_get_claude_api_key_from_env
        PASS [   0.009s] prodigy config::tests::test_get_global_prodigy_dir_path_structure
        PASS [   0.009s] prodigy config::tests::test_get_global_prodigy_dir_success
        PASS [   0.011s] prodigy config::tests::test_get_claude_api_key_precedence
        PASS [   0.009s] prodigy config::tests::test_merge_env_vars
        PASS [   0.009s] prodigy config::tests::test_global_config_default
        PASS [   0.010s] prodigy config::tests::test_get_spec_dir
        PASS [   0.010s] prodigy config::tests::test_merge_env_vars_editor_fallback
        PASS [   0.010s] prodigy config::tests::test_structured_workflow_config_parsing
        PASS [   0.010s] prodigy config::tests::test_simple_workflow_config_parsing
        PASS [   0.010s] prodigy config::tests::test_mixed_workflow_config
        PASS [   0.010s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_commit_config_serialization
        PASS [   0.012s] prodigy config::tests::test_variable_expansion
        PASS [   0.009s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_commit_tracking_result
        PASS [   0.010s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_commit_tracker_initialization
        PASS [   0.008s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_create_auto_commit
        PASS [   0.010s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_has_changes_detection
        PASS [   0.014s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_commit_message_validation
        PASS [   0.010s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_message_template_interpolation
        PASS [   0.012s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_get_commits_between
        PASS [   0.009s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_track_step_commits
        PASS [   0.010s] prodigy cook::commit_tracker::tests::test_commit_tracking_result
        PASS [   0.011s] prodigy cook::commit_tracker::commit_tracker_tests::tests::test_squash_commits
        PASS [   0.009s] prodigy cook::commit_tracker::tests::test_get_current_head
        PASS [   0.010s] prodigy cook::commit_tracker::tests::test_has_changes
        PASS [   0.009s] prodigy cook::commit_tracker::tests::test_interpolate_template
        PASS [   0.009s] prodigy cook::commit_tracker::tests::test_step_commits_variable_format
        PASS [   0.010s] prodigy cook::commit_tracker::tests::test_validate_message
        PASS [   0.012s] prodigy cook::cook_tests::test_load_mapreduce_workflow
        PASS [   0.014s] prodigy cook::cook_tests::test_load_debtmap_mapreduce_workflow
        PASS [   0.011s] prodigy cook::coordinators::environment_tests::tests::test_verify_git_repository_not_a_repo
        PASS [   0.012s] prodigy cook::cook_tests::test_yaml_error_messages
        PASS [   0.009s] prodigy cook::coordinators::execution_tests::tests::test_execute_claude_success
        PASS [   0.010s] prodigy cook::coordinators::execution_tests::tests::test_check_command_available
        PASS [   0.011s] prodigy cook::coordinators::environment_tests::tests::test_verify_git_repository_success
        PASS [   0.015s] prodigy cook::cook_tests::test_load_workflow_default
        PASS [   0.010s] prodigy cook::coordinators::execution_tests::tests::test_execute_claude_failure
        PASS [   0.009s] prodigy cook::coordinators::execution_tests::tests::test_execute_command_failure
        PASS [   0.009s] prodigy cook::coordinators::execution_tests::tests::test_execute_command_success
        PASS [   0.009s] prodigy cook::coordinators::execution_tests::tests::test_execute_with_retry
        PASS [   0.009s] prodigy cook::coordinators::session_tests::tests::test_complete_session_success
        PASS [   0.009s] prodigy cook::coordinators::session_tests::tests::test_get_session_info
        PASS [   0.009s] prodigy cook::coordinators::session_tests::tests::test_resume_session
        PASS [   0.010s] prodigy cook::coordinators::session_tests::tests::test_error_propagation
        PASS [   0.009s] prodigy cook::coordinators::session_tests::tests::test_session_lifecycle
        PASS [   0.027s] prodigy cook::cook_tests::test_create_orchestrator
        PASS [   0.012s] prodigy cook::coordinators::session_tests::tests::test_complete_session_failure
        PASS [   0.011s] prodigy cook::coordinators::session_tests::tests::test_start_session
        PASS [   0.012s] prodigy cook::coordinators::session_tests::tests::test_start_session_failure
        PASS [   0.008s] prodigy cook::coordinators::workflow::tests::test_convert_to_workflow_step_integration
        PASS [   0.010s] prodigy cook::coordinators::session_tests::tests::test_update_status
        PASS [   0.011s] prodigy cook::coordinators::session_tests::tests::test_track_iteration
        PASS [   0.008s] prodigy cook::coordinators::workflow::tests::test_create_default_workflow_step
        PASS [   0.008s] prodigy cook::coordinators::workflow::tests::test_extract_command_string_simple_object
        PASS [   0.009s] prodigy cook::coordinators::workflow::tests::test_extract_command_string_structured
        PASS [   0.010s] prodigy cook::coordinators::workflow::tests::test_extract_command_string_simple
        PASS [   0.009s] prodigy cook::coordinators::workflow::tests::test_extract_workflow_step_command_claude
        PASS [   0.008s] prodigy cook::coordinators::workflow::tests::test_extract_workflow_step_command_priority
        PASS [   0.015s] prodigy cook::coordinators::workflow::tests::test_extract_workflow_step_command_empty
        PASS [   0.016s] prodigy cook::coordinators::workflow::tests::test_extract_workflow_step_command_shell
        PASS [   0.013s] prodigy cook::coordinators::workflow::tests::test_normalize_command_string_with_slash
        PASS [   0.011s] prodigy cook::coordinators::workflow_tests::tests::test_execute_workflow_empty_commands
        PASS [   0.011s] prodigy cook::coordinators::workflow_tests::tests::test_execute_workflow_simple_commands
        PASS [   0.013s] prodigy cook::coordinators::workflow_tests::tests::test_display_progress
        PASS [   0.013s] prodigy cook::coordinators::workflow_tests::tests::test_execute_step
        PASS [   0.014s] prodigy cook::coordinators::workflow::tests::test_workflow_should_continue
        PASS [   0.015s] prodigy cook::coordinators::workflow::tests::test_extract_workflow_step_command_test
        PASS [   0.016s] prodigy cook::coordinators::workflow::tests::test_normalize_command_string_without_slash
        PASS [   0.016s] prodigy cook::coordinators::workflow::tests::test_workflow_max_iterations_reached
        PASS [   0.009s] prodigy cook::coordinators::workflow_tests::tests::test_execute_workflow_stops_at_max_iterations
        PASS [   0.009s] prodigy cook::coordinators::workflow_tests::tests::test_execute_workflow_with_variables
        PASS [   0.009s] prodigy cook::coordinators::workflow_tests::tests::test_execute_workflow_workflow_step_commands
        PASS [   0.011s] prodigy cook::coordinators::workflow_tests::tests::test_execute_workflow_structured_commands
        PASS [   0.009s] prodigy cook::coordinators::workflow_tests::tests::test_prompt_user
        PASS [   0.009s] prodigy cook::coordinators::workflow_tests::tests::test_should_continue_beyond_limit
        PASS [   0.010s] prodigy cook::coordinators::workflow_tests::tests::test_workflow_context_creation
        PASS [   0.009s] prodigy cook::coordinators::workflow_tests::tests::test_workflow_context_with_variables
        PASS [   0.011s] prodigy cook::coordinators::workflow_tests::tests::test_should_continue_at_limit
        PASS [   0.010s] prodigy cook::environment::config::tests::test_env_value_conditional
        PASS [   0.011s] prodigy cook::coordinators::workflow_tests::tests::test_should_continue_within_limit
        PASS [   0.009s] prodigy cook::environment::config::tests::test_env_value_dynamic
        PASS [   0.009s] prodigy cook::environment::config::tests::test_env_value_static
        PASS [   0.009s] prodigy cook::environment::config::tests::test_step_environment_default
        PASS [   0.009s] prodigy cook::environment::config::tests::test_environment_config_default
        PASS [   0.010s] prodigy cook::environment::manager::tests::test_environment_manager_new
        PASS [   0.010s] prodigy cook::environment::manager::tests::test_environment_snapshot_restore
        PASS [   0.010s] prodigy cook::environment::manager::tests::test_interpolate_value
        PASS [   0.009s] prodigy cook::environment::path_resolver::tests::test_expand_home_dir
        PASS [   0.008s] prodigy cook::environment::path_resolver::tests::test_join
        PASS [   0.012s] prodigy cook::environment::manager::tests::test_setup_environment_basic
        PASS [   0.011s] prodigy cook::environment::path_resolver::tests::test_is_absolute
        PASS [   0.009s] prodigy cook::environment::path_resolver::tests::test_normalize_separators_unix
        PASS [   0.009s] prodigy cook::environment::secret_store::tests::test_default_provider
        PASS [   0.009s] prodigy cook::environment::secret_store::tests::test_env_secret_provider
        PASS [   0.010s] prodigy cook::environment::secret_store::tests::test_mock_secret_provider
        PASS [   0.009s] prodigy cook::environment::secret_store::tests::test_secret_store_cache
        PASS [   0.008s] prodigy cook::environment::tests::test_needs_path_expansion
        PASS [   0.010s] prodigy cook::environment::tests::test_merge_env_maps
        PASS [   0.011s] prodigy cook::environment::tests::test_mask_secrets
        PASS [   0.015s] prodigy cook::environment::path_resolver::tests::test_resolve_full_path
        PASS [   0.015s] prodigy cook::environment::path_resolver::tests::test_normalize_separators_windows
        PASS [   0.024s] prodigy cook::environment::path_resolver::tests::test_expand_env_vars
        PASS [   0.009s] prodigy cook::execution::bridge_tests::tests::test_capture_output_mode_conversion
        PASS [   0.009s] prodigy cook::execution::bridge_tests::tests::test_command_metadata_creation
        PASS [   0.008s] prodigy cook::execution::bridge_tests::tests::test_create_legacy_executor
        PASS [   0.010s] prodigy cook::execution::bridge_tests::tests::test_command_request_creation_for_claude
        PASS [   0.009s] prodigy cook::execution::bridge_tests::tests::test_no_op_observability
        PASS [   0.010s] prodigy cook::execution::bridge_tests::tests::test_legacy_context_conversion
        PASS [   0.009s] prodigy cook::execution::bridge_tests::tests::test_unified_result_conversion_failure
        PASS [   0.010s] prodigy cook::execution::bridge_tests::tests::test_shell_command_detection
        PASS [   0.010s] prodigy cook::execution::bridge_tests::tests::test_unified_result_conversion
        PASS [   0.012s] prodigy cook::execution::bridge_tests::tests::test_no_op_observability_methods
        PASS [   0.009s] prodigy cook::execution::claude::tests::test_claude_executor_check
        PASS [   0.010s] prodigy cook::execution::claude::tests::test_claude_command_execution
        PASS [   0.009s] prodigy cook::execution::claude::tests::test_claude_executor_version
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_capture_output_mode_variants
        PASS [   0.010s] prodigy cook::execution::command_tests::tests::test_cleanup_requirements_default
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_command_metadata_creation
        PASS [   0.010s] prodigy cook::execution::command_tests::tests::test_command_request_creation
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_command_spec_to_executable_claude
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_command_spec_to_executable_test
        PASS [   0.008s] prodigy cook::execution::command_tests::tests::test_command_spec_with_variable_substitution
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_command_spec_to_executable_shell
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_executable_command_builder
        PASS [   0.011s] prodigy cook::execution::command_tests::tests::test_command_type_equality
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_executable_command_display
        PASS [   0.010s] prodigy cook::execution::command_tests::tests::test_executable_command_from_string
        PASS [   0.010s] prodigy cook::execution::command_tests::tests::test_executable_command_new
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_execution_config_default
        PASS [   0.010s] prodigy cook::execution::command_tests::tests::test_execution_context_default
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_execution_context_substitute_variables
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_resource_limits
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_output_format_equality
        PASS [   0.010s] prodigy cook::execution::command_tests::tests::test_handler_action_to_executable
        PASS [   0.009s] prodigy cook::execution::command_tests::tests::test_resource_requirements_default
        PASS [   0.010s] prodigy cook::execution::command_tests::tests::test_retry_config_default
        PASS [   0.008s] prodigy cook::execution::data_pipeline::tests::test_array_access_in_filter
        PASS [   0.010s] prodigy cook::execution::command_tests::tests::test_validation_config
        PASS [   0.009s] prodigy cook::execution::data_pipeline::tests::test_complex_expressions_with_parentheses
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_complex_multifield_sorting
        PASS [   0.009s] prodigy cook::execution::data_pipeline::tests::test_date_comparison
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_deeply_nested_field_filtering
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_filter_comparison
        PASS [   0.011s] prodigy cook::execution::data_pipeline::tests::test_distinct_deduplication
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_filter_in_operator
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_filter_logical
        PASS [   0.009s] prodigy cook::execution::data_pipeline::tests::test_json_path_nested
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_json_path_basic
        PASS [   0.011s] prodigy cook::execution::data_pipeline::tests::test_filter_regex_matching
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_mapreduce_debtmap_scenario
        PASS [   0.012s] prodigy cook::execution::data_pipeline::tests::test_length_function
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_nested_field_filtering
        PASS [   0.009s] prodigy cook::execution::data_pipeline::tests::test_nested_field_functions
        PASS [   0.008s] prodigy cook::execution::data_pipeline::tests::test_nested_field_sorting
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_nested_field_in_operator
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_nested_field_with_logical_operators
        PASS [   0.013s] prodigy cook::execution::data_pipeline::tests::test_matches_regex_function
        PASS [   0.009s] prodigy cook::execution::data_pipeline::tests::test_pipeline_complete
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_not_operator
        PASS [   0.012s] prodigy cook::execution::data_pipeline::tests::test_null_handling_in_filter
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_sort_with_null_position
        PASS [   0.009s] prodigy cook::execution::data_pipeline::tests::test_type_checking_functions
        PASS [   0.009s] prodigy cook::execution::dlq_reprocessor::tests::test_filter_evaluator
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_sorter_multiple_fields
        PASS [   0.010s] prodigy cook::execution::data_pipeline::tests::test_sorter_single_field
        PASS [   0.009s] prodigy cook::execution::dlq_reprocessor::tests::test_retry_strategy
        PASS [   0.015s] prodigy cook::execution::dlq_reprocessor_test::test_advanced_filter_date_range
        PASS [   0.013s] prodigy cook::execution::dlq_reprocessor_test::test_advanced_filter_failure_count
        PASS [   0.016s] prodigy cook::execution::dlq_reprocessor_test::test_advanced_filter_error_types
        PASS [   0.009s] prodigy cook::execution::dlq_reprocessor_test::test_filter_evaluator_expressions
        PASS [   0.017s] prodigy cook::execution::dlq_reprocessor_test::test_clear_processed_items
        PASS [   0.015s] prodigy cook::execution::dlq_reprocessor_test::test_concurrent_reprocessing_prevention
        PASS [   0.020s] prodigy cook::execution::dlq_reprocessor_test::test_global_stats
        PASS [   0.011s] prodigy cook::execution::dlq_test::tests::test_dlq_basic_operations
        PASS [   0.012s] prodigy cook::execution::dlq_test::tests::test_dlq_filtering
        PASS [   0.014s] prodigy cook::execution::dlq_test::tests::test_dlq_error_distribution_analysis
        PASS [   0.027s] prodigy cook::execution::dlq_reprocessor_test::test_error_recovery_and_resilience
        PASS [   0.017s] prodigy cook::execution::dlq_test::tests::test_dlq_capacity_management
        PASS [   0.026s] prodigy cook::execution::dlq_reprocessor_test::test_integration_complex_filter_scenarios
        PASS [   0.023s] prodigy cook::execution::dlq_reprocessor_test::test_reprocess_items_basic
        PASS [   0.013s] prodigy cook::execution::dlq_test::tests::test_dlq_pattern_analysis
        PASS [   0.014s] prodigy cook::execution::dlq_test::tests::test_dlq_persistence
        PASS [   0.008s] prodigy cook::execution::errors::tests::test_aggregated_error
        PASS [   0.009s] prodigy cook::execution::dlq_test::tests::test_should_move_to_dlq
        PASS [   0.009s] prodigy cook::execution::dlq_test::tests::test_error_signature_creation
        PASS [   0.012s] prodigy cook::execution::dlq_test::tests::test_dlq_purging
        PASS [   0.008s] prodigy cook::execution::errors::tests::test_error_is_retryable
        PASS [   0.014s] prodigy cook::execution::dlq_test::tests::test_dlq_reprocessing
        PASS [   0.008s] prodigy cook::execution::errors::tests::test_recovery_hints
        PASS [   0.008s] prodigy cook::execution::errors_tests::tests::test_aggregated_error
        PASS [   0.009s] prodigy cook::execution::errors_tests::tests::test_contextual_error
        PASS [   0.010s] prodigy cook::execution::errors::tests::test_variant_names
        PASS [   0.009s] prodigy cook::execution::errors_tests::tests::test_error_display_messages
        PASS [   0.010s] prodigy cook::execution::errors_tests::tests::test_error_handler_trait
        PASS [   0.009s] prodigy cook::execution::errors_tests::tests::test_from_anyhow_conversion
        PASS [   0.009s] prodigy cook::execution::errors_tests::tests::test_recovery_hints
        PASS [   0.010s] prodigy cook::execution::errors_tests::tests::test_retryable_errors
        PASS [   0.008s] prodigy cook::execution::errors_tests::tests::test_variant_names
        PASS [   0.008s] prodigy cook::execution::events::event_logger::tests::test_correlation_id
        PASS [   0.009s] prodigy cook::execution::events::event_logger::tests::test_event_logger_basic
        PASS [   0.010s] prodigy cook::execution::events::event_logger::tests::test_event_logger_with_metadata
        PASS [   0.008s] prodigy cook::execution::events::event_tests::tests::test_event_correlation_id
        PASS [   0.010s] prodigy cook::execution::events::event_tests::tests::test_event_buffering
        PASS [   0.009s] prodigy cook::execution::events::event_tests::tests::test_event_category_classification
        PASS [   0.010s] prodigy cook::execution::events::event_tests::tests::test_event_logger_logs_events
        PASS [   0.009s] prodigy cook::execution::events::event_tests::tests::test_event_logger_with_metadata
        PASS [   0.009s] prodigy cook::execution::events::event_tests::tests::test_event_severity_categorization
        PASS [   0.013s] prodigy cook::execution::events::event_tests::tests::test_file_event_writer_creates_directory
        PASS [   0.012s] prodigy cook::execution::events::event_tests::tests::test_jsonl_file_writer
        PASS [   0.010s] prodigy cook::execution::events::retention::tests::test_default_retention_policy
        PASS [   0.009s] prodigy cook::execution::events::retention::tests::test_extract_event_timestamp
        PASS [   0.011s] prodigy cook::execution::events::event_writer::tests::test_jsonl_writer
        PASS [   0.009s] prodigy cook::execution::events::retention::tests::test_retention_stats_calculations
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_command_error
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_command_result_is_retryable
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_command_result_is_success
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_command_result_output_text
        PASS [   0.010s] prodigy cook::execution::executor_tests::tests::test_command_status_cancelled
        PASS [   0.010s] prodigy cook::execution::executor_tests::tests::test_command_status_failed
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_command_status_resource_limit_exceeded
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_command_status_success
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_command_status_timed_out
        PASS [   0.023s] prodigy cook::execution::events::retention::tests::test_retention_manager_no_cleanup_needed
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_estimate_resources_claude
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_estimate_resources_shell_git
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_estimate_resources_test
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_execution_context_builder
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_execution_context_builder_missing_request
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_execution_metadata_creation
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_executor_capabilities
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_executor_supports_all_types
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_failure_reason_variants
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_resource_monitor_check_resources
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_resource_monitor_validate_limits
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_resource_usage_default
        PASS [   0.008s] prodigy cook::execution::executor_tests::tests::test_validation_issue_levels
        PASS [   0.009s] prodigy cook::execution::executor_tests::tests::test_validation_result
        PASS [   0.008s] prodigy cook::execution::expression::tests::test_expression_engine_sort
        PASS [   0.010s] prodigy cook::execution::expression::tests::test_expression_engine_filter
        PASS [   0.009s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_empty_input
        PASS [   0.022s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_deprecated_test_command
        PASS [   0.029s] prodigy cook::execution::foreach::tests::test_basic_foreach_execution
        PASS [   0.029s] prodigy cook::execution::foreach::tests::test_foreach_with_interpolation
        PASS [   0.031s] prodigy cook::execution::foreach::tests::test_foreach_parallel_execution
        PASS [   0.035s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_continue_on_error
        PASS [   0.133s] prodigy cook::execution::dlq_reprocessor_test::test_integration_end_to_end_dlq_retry_with_mock_failures
        PASS [   0.037s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_max_items
        PASS [   0.039s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_fail_fast
        PASS [   0.015s] prodigy cook::execution::foreach_tests::foreach_item_source_tests::test_command_input_empty_output
        PASS [   0.013s] prodigy cook::execution::foreach_tests::foreach_item_source_tests::test_command_input_failure
        PASS [   0.008s] prodigy cook::execution::foreach_tests::foreach_item_source_tests::test_list_input_preservation
        PASS [   0.029s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_variable_interpolation
        PASS [   0.027s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_with_list_input
        PASS [   0.008s] prodigy cook::execution::input_source::tests::test_detect_command
        PASS [   0.014s] prodigy cook::execution::foreach_tests::foreach_item_source_tests::test_command_input_with_spaces
        PASS [   0.008s] prodigy cook::execution::input_source::tests::test_detect_complex_command
        PASS [   0.009s] prodigy cook::execution::input_source::tests::test_detect_json_file
        PASS [   0.051s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_multiple_commands
        PASS [   0.013s] prodigy cook::execution::interpolation::mapreduce_variable_tests::test_array_to_string_conversion
        PASS [   0.013s] prodigy cook::execution::input_source::tests::test_execute_command
        PASS [   0.013s] prodigy cook::execution::interpolation::mapreduce_variable_tests::test_empty_array_handling
        PASS [   0.013s] prodigy cook::execution::interpolation::mapreduce_variable_tests::test_mapreduce_interpolation_bug_fix
        PASS [   0.012s] prodigy cook::execution::interpolation::mapreduce_variable_tests::test_mixed_variable_syntax
        PASS [   0.043s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_with_command_input
        PASS [   0.012s] prodigy cook::execution::interpolation::mapreduce_variable_tests::test_nested_mapreduce_variables
        PASS [   0.013s] prodigy cook::execution::interpolation::mapreduce_variable_tests::test_single_item_array
        PASS [   0.008s] prodigy cook::execution::interpolation::tests::test_classify_path_char
        PASS [   0.012s] prodigy cook::execution::interpolation::tests::test_array_indexing
        PASS [   0.013s] prodigy cook::execution::interpolation::mapreduce_variable_tests::test_unbraced_variable_edge_cases
        PASS [   0.012s] prodigy cook::execution::interpolation::tests::test_basic_interpolation
        PASS [   0.012s] prodigy cook::execution::interpolation::tests::test_complex_json_interpolation
        PASS [   0.013s] prodigy cook::execution::interpolation::tests::test_context_inheritance
        PASS [   0.013s] prodigy cook::execution::interpolation::tests::test_default_values
        PASS [   0.014s] prodigy cook::execution::interpolation::tests::test_literal_segments
        PASS [   0.012s] prodigy cook::execution::interpolation::tests::test_mixed_segments
        PASS [   0.012s] prodigy cook::execution::interpolation::tests::test_nested_property_access
        PASS [   0.011s] prodigy cook::execution::interpolation::tests::test_parse_path_dot_in_brackets
        PASS [   0.013s] prodigy cook::execution::interpolation::tests::test_parse_path_complex
        PASS [   0.011s] prodigy cook::execution::interpolation::tests::test_parse_path_dotted
        PASS [   0.013s] prodigy cook::execution::interpolation::tests::test_parse_path_empty_error
        PASS [   0.013s] prodigy cook::execution::interpolation::tests::test_parse_path_simple
        PASS [   0.009s] prodigy cook::execution::interpolation::tests::test_shell_escape
        PASS [   0.012s] prodigy cook::execution::interpolation::tests::test_parse_path_with_brackets
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::basic_tests::test_agent_config_creation
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::basic_tests::test_agent_operation_display
        PASS [   0.012s] prodigy cook::execution::interpolation::tests::test_undefined_variable_non_strict
        PASS [   0.009s] prodigy cook::execution::mapreduce::agent::basic_tests::test_agent_result_creation
        PASS [   0.013s] prodigy cook::execution::interpolation::tests::test_undefined_variable_strict_mode
        PASS [   0.007s] prodigy cook::execution::mapreduce::agent::basic_tests::test_agent_result_failure
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::basic_tests::test_agent_state_transitions
        PASS [   0.007s] prodigy cook::execution::mapreduce::agent::basic_tests::test_aggregated_results_summary
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::basic_tests::test_aggregated_results
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_agent_operation_variants
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_agent_result_creation
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_agent_result_failure
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_agent_result_serialization
        PASS [   0.009s] prodigy cook::execution::mapreduce::agent::tests::test_agent_result_retrying_status
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_agent_result_timeout_status
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_agent_state_transitions
        PASS [   0.009s] prodigy cook::execution::mapreduce::agent::tests::test_agent_result_with_worktree_info
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_agent_state_with_error
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_aggregated_results
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_aggregated_results_empty
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_aggregated_results_serialization
        PASS [   0.009s] prodigy cook::execution::mapreduce::agent::tests::test_aggregated_results_json_conversion
        PASS [   0.009s] prodigy cook::execution::mapreduce::agent::tests::test_aggregator_to_interpolation_context
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_batch_agent_results
        PASS [   0.013s] prodigy cook::execution::mapreduce::agent::tests::test_aggregator_to_variable_context
        PASS [   0.008s] prodigy cook::execution::mapreduce::agent::tests::test_default_result_aggregator
        PASS [   0.009s] prodigy cook::execution::mapreduce::agent::tests::test_large_aggregation_performance
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::context_tests::test_execution_context_creation
        PASS [   0.009s] prodigy cook::execution::mapreduce::command::tests::context_tests::test_execution_context_with_captured_output
        PASS [   0.007s] prodigy cook::execution::mapreduce::command::tests::context_tests::test_execution_context_with_env
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::context_tests::test_execution_context_with_variable
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::context_tests::test_execution_context_with_variables
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::executor_tests::test_command_result_to_step_result_conversion
        PASS [   0.021s] prodigy cook::execution::mapreduce::agent::tests::test_concurrent_agent_operations
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::executor_tests::test_command_router_execute_success
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::executor_tests::test_command_router_no_executor_found
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::types_tests::test_collect_command_types
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::types_tests::test_determine_multiple_command_types
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::types_tests::test_determine_no_command_type
        PASS [   0.009s] prodigy cook::execution::mapreduce::command::tests::types_tests::test_determine_single_command_type
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::types_tests::test_validate_command_count_empty
        PASS [   0.008s] prodigy cook::execution::mapreduce::command::tests::types_tests::test_validate_command_count_multiple
        PASS [   0.008s] prodigy cook::execution::mapreduce::pure_function_tests::test_add_individual_result_variables_various_statuses
        PASS [   0.009s] prodigy cook::execution::mapreduce::command::tests::types_tests::test_validate_command_count_success
        PASS [   0.010s] prodigy cook::execution::mapreduce::pure_function_tests::test_build_agent_context_variables
        PASS [   0.008s] prodigy cook::execution::mapreduce::pure_function_tests::test_build_map_results_interpolation_context
        PASS [   0.009s] prodigy cook::execution::mapreduce::pure_function_tests::test_calculate_map_result_summary_all_failed
        PASS [   0.009s] prodigy cook::execution::mapreduce::pure_function_tests::test_calculate_map_result_summary_all_successful
        PASS [   0.009s] prodigy cook::execution::mapreduce::pure_function_tests::test_calculate_map_result_summary_empty_results
        PASS [   0.010s] prodigy cook::execution::mapreduce::pure_function_tests::test_calculate_map_result_summary_mixed_results
        PASS [   0.009s] prodigy cook::execution::mapreduce::pure_function_tests::test_classify_agent_status
        PASS [   0.009s] prodigy cook::execution::mapreduce::pure_function_tests::test_generate_agent_branch_name
        PASS [   0.009s] prodigy cook::execution::mapreduce::pure_function_tests::test_mapreduce_variable_interpolation_bug_fix
        PASS [   0.009s] prodigy cook::execution::mapreduce::pure_function_tests::test_generate_agent_id
        PASS [   0.009s] prodigy cook::execution::mapreduce::pure_function_tests::test_truncate_output
        PASS [   0.010s] prodigy cook::execution::mapreduce::reduce_phase::tests::test_aggregate_statistics
        PASS [   0.009s] prodigy cook::execution::mapreduce::tests::test_checkpoint_state_validation
        PASS [   0.009s] prodigy cook::execution::mapreduce::tests::test_collect_command_types_claude
        PASS [   0.009s] prodigy cook::execution::mapreduce::tests::test_collect_command_types_handler
        PASS [   0.010s] prodigy cook::execution::mapreduce::tests::test_collect_command_types_empty
        PASS [   0.009s] prodigy cook::execution::mapreduce::tests::test_collect_command_types_legacy_name
        PASS [   0.010s] prodigy cook::execution::mapreduce::tests::test_collect_command_types_legacy_name_with_slash
        PASS [   0.010s] prodigy cook::execution::mapreduce::tests::test_collect_command_types_multiple
        PASS [   0.010s] prodigy cook::execution::mapreduce::tests::test_collect_command_types_shell
        PASS [   0.008s] prodigy cook::execution::mapreduce::tests::test_collect_command_types_test
        PASS [   0.009s] prodigy cook::execution::mapreduce::tests::test_format_legacy_command
        PASS [   0.008s] prodigy cook::execution::mapreduce::tests::test_pending_items_logic
        PASS [   0.009s] prodigy cook::execution::mapreduce::tests::test_truncate_identifier
        PASS [   0.008s] prodigy cook::execution::mapreduce::utils::tests::test_add_individual_result_variables
        PASS [   0.008s] prodigy cook::execution::mapreduce::utils::tests::test_build_agent_context_variables
        PASS [   0.008s] prodigy cook::execution::mapreduce::utils::tests::test_build_map_results_interpolation_context
        PASS [   0.009s] prodigy cook::execution::mapreduce::utils::tests::test_calculate_map_result_summary_all_failed
        PASS [   0.009s] prodigy cook::execution::mapreduce::utils::tests::test_calculate_map_result_summary_all_successful
        PASS [   0.008s] prodigy cook::execution::mapreduce::utils::tests::test_calculate_map_result_summary_empty
        PASS [   0.008s] prodigy cook::execution::mapreduce::utils::tests::test_generate_agent_branch_name
        PASS [   0.009s] prodigy cook::execution::mapreduce::utils::tests::test_calculate_map_result_summary_mixed_results
        PASS [   0.008s] prodigy cook::execution::mapreduce::utils::tests::test_classify_agent_status
        PASS [   0.008s] prodigy cook::execution::mapreduce::utils::tests::test_generate_agent_id
        PASS [   0.009s] prodigy cook::execution::mapreduce::utils::tests::test_truncate_command
        PASS [   0.008s] prodigy cook::execution::mapreduce::utils::tests::test_truncate_output
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_empty_items_handling
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_extended_workflow_conversion
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_debtmap_workflow_parsing
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_map_on_failure_handlers
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_map_variable_interpolation
        PASS [   0.099s] prodigy cook::execution::mapreduce::agent::tests::test_default_lifecycle_manager
        PASS [   0.008s] prodigy cook::execution::mapreduce_integration_tests::tests::test_reduce_phase_no_retry
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_missing_input_file_error
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_reduce_phase_implicit_retry
        PASS [   0.013s] prodigy cook::execution::mapreduce_integration_tests::tests::test_mapreduce_variable_interpolation_integration
        PASS [   0.010s] prodigy cook::execution::mapreduce_integration_tests::tests::test_reduce_phase_on_failure_with_retries
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_reduce_phase_retry_exhaustion
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_setup_phase_execution
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_skip_reduce_on_no_success
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_reduce_phase_variable_substitution
        PASS [   0.010s] prodigy cook::execution::mapreduce_integration_tests::tests::test_setup_runs_in_main_worktree
        PASS [   0.009s] prodigy cook::execution::mapreduce_resume::tests::test_calculate_remaining_items
        PASS [   0.009s] prodigy cook::execution::mapreduce_integration_tests::tests::test_timeout_formats
        PASS [   0.009s] prodigy cook::execution::mapreduce_resume::tests::test_enhanced_resume_options_default
        PASS [   0.009s] prodigy cook::execution::mapreduce_resume::tests::test_resume_from_map_empty_items
        PASS [   0.009s] prodigy cook::execution::mapreduce_resume::tests::test_resume_from_reduce_completed
        PASS [   0.010s] prodigy cook::execution::mapreduce_resume::tests::test_resume_from_map_with_remaining
        PASS [   0.012s] prodigy cook::execution::mapreduce_resume::tests::test_load_and_validate_state
        PASS [   0.008s] prodigy cook::execution::mapreduce_resume::tests::test_work_item_serialization
        PASS [   0.009s] prodigy cook::execution::mapreduce_setup_test::tests::test_setup_generates_work_items
        PASS [   0.009s] prodigy cook::execution::mapreduce_setup_test::tests::test_setup_phase_failure_prevents_map
        PASS [   0.008s] prodigy cook::execution::mapreduce_tests::additional_coverage_tests::test_agent_result_edge_cases
        PASS [   0.009s] prodigy cook::execution::mapreduce_tests::additional_coverage_tests::test_large_agent_result_collection
        PASS [   0.010s] prodigy cook::execution::mapreduce_setup_test::tests::test_setup_phase_variable_capture
        PASS [   0.009s] prodigy cook::execution::mapreduce_tests::additional_coverage_tests::test_map_phase_with_all_options
        PASS [   0.009s] prodigy cook::execution::mapreduce_tests::additional_coverage_tests::test_resume_options_edge_cases
        PASS [   0.009s] prodigy cook::execution::mapreduce_tests::additional_coverage_tests::test_setup_phase_edge_cases
        PASS [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_collect_command_types_legacy_with_slash
        PASS [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_collect_command_types_multiple
        PASS [   0.009s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_collect_command_types_legacy_without_slash
        PASS [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_collect_command_types_single_claude
        PASS [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_format_legacy_command_with_slash
        PASS [   0.009s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_collect_command_types_single_shell
        PASS [   0.009s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_format_legacy_command_empty
        PASS [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_format_legacy_command_without_slash
        FAIL [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_empty
  stdout ───

    running 1 test
    test cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_empty ... FAILED

    failures:

    failures:
        cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_empty

    test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 1585 filtered out; finished in 0.00s

  stderr ───

    thread 'cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_empty' panicked at src/cook/execution/mapreduce_tests.rs:970:9:
    assertion failed: result.unwrap_err().to_string().contains("No command specified")
    note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

  Cancelling due to test failure: 11 tests still running
        FAIL [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_multiple
  stdout ───

    running 1 test
    test cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_multiple ... FAILED

    failures:

    failures:
        cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_multiple

    test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 1585 filtered out; finished in 0.00s

  stderr ───

    thread 'cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_multiple' panicked at src/cook/execution/mapreduce_tests.rs:991:9:
    assertion failed: result.unwrap_err().to_string().contains("Multiple command types specified")
    note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

        PASS [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_single
        PASS [   0.009s] prodigy cook::execution::mapreduce_tests::concurrency_tests::test_concurrent_worktree_creation
        PASS [   0.251s] prodigy cook::execution::foreach_tests::foreach_execution_tests::test_foreach_parallel_execution
        PASS [   0.019s] prodigy cook::execution::mapreduce_tests::concurrency_tests::test_agent_race_conditions
        PASS [   0.171s] prodigy cook::execution::mapreduce::agent::tests::test_agent_workflow_integration
        PASS [   0.702s] prodigy cook::cook_tests::test_run_improvement_loop
        PASS [   0.216s] prodigy cook::execution::mapreduce_tests::concurrency_tests::test_parallel_agent_execution_limits
        PASS [   1.011s] prodigy cook::execution::mapreduce_tests::concurrency_tests::test_agent_timeout_handling
        PASS [   2.874s] prodigy cook::execution::dlq_reprocessor_test::test_performance_large_dlq_processing
        PASS [   4.072s] prodigy cook::execution::dlq_reprocessor_test::test_retry_strategy_delays
────────────
     Summary [   4.485s] 667/1781 tests run: 665 passed, 2 failed, 9 skipped
        FAIL [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_empty
        FAIL [   0.008s] prodigy cook::execution::mapreduce_tests::command_type_tests::test_validate_command_count_multiple
warning: 1114/1781 tests were not run due to test failure (run with --no-fail-fast to run all tests, or run with --max-fail)
error: test run failed
