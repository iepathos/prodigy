    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.19s
────────────
 Nextest run ID 45353308-48ee-4abc-8a29-68151c4f23f1 with nextest profile: default
    Starting 1972 tests across 14 binaries (7 tests skipped)
        PASS [   0.015s] prodigy abstractions::exit_status::tests::test_from_raw_success
        PASS [   0.018s] prodigy abstractions::claude::tests::test_transient_error_detection
        PASS [   0.027s] prodigy abstractions::claude::tests::test_mock_claude_unavailable
        PASS [   0.028s] prodigy abstractions::claude::tests::test_mock_claude_error_response
        PASS [   0.028s] prodigy abstractions::claude::tests::test_add_success_response
        PASS [   0.028s] prodigy abstractions::claude::tests::test_add_error_response
        PASS [   0.030s] prodigy abstractions::claude::tests::test_mock_claude_client
        PASS [   0.039s] prodigy abstractions::exit_status::tests::test_from_raw_failure
        PASS [   0.039s] prodigy abstractions::git::real_git_tests::test_git_command_success
        PASS [   0.021s] prodigy abstractions::git::tests::test_mock_git_error
        PASS [   0.040s] prodigy abstractions::git::real_git_tests::test_create_worktree_invalid_path
        PASS [   0.014s] prodigy cli::events::tests::test_get_event_type_agent_completed
        PASS [   0.015s] prodigy cli::events::tests::test_event_matches_type
        PASS [   0.044s] prodigy abstractions::git::real_git_tests::test_git_command_failure
        PASS [   0.017s] prodigy abstractions::git::tests::test_mock_git_operations
        PASS [   0.017s] prodigy cli::events::tests::test_get_event_type_agent_failed
        PASS [   0.046s] prodigy abstractions::git::real_git_tests::test_get_current_branch
        PASS [   0.012s] prodigy cli::events::tests::test_get_event_type_empty_object
        PASS [   0.013s] prodigy cli::events::tests::test_get_event_type_agent_progress
        PASS [   0.011s] prodigy cli::events::tests::test_get_event_type_job_failed
        PASS [   0.014s] prodigy cli::events::tests::test_get_event_type_job_completed
        PASS [   0.013s] prodigy cli::events::tests::test_get_event_type_job_paused
        PASS [   0.017s] prodigy cli::events::tests::test_get_event_type_agent_started
        PASS [   0.014s] prodigy cli::events::tests::test_get_event_type_job_started
        PASS [   0.013s] prodigy cli::events::tests::test_get_event_type_multiple_fields
        PASS [   0.016s] prodigy cli::events::tests::test_get_event_type_job_resumed
        PASS [   0.017s] prodigy cli::events::tests::test_get_event_type_metrics_snapshot
        PASS [   0.013s] prodigy cli::events::tests::test_get_event_type_nested_structure
        PASS [   0.013s] prodigy cli::events::tests::test_get_event_type_pipeline_completed
        PASS [   0.014s] prodigy cli::events::tests::test_get_event_type_null_value
        PASS [   0.014s] prodigy cli::events::tests::test_get_event_type_pipeline_stage_completed
        PASS [   0.013s] prodigy cli::events::tests::test_get_event_type_pipeline_started
        PASS [   0.016s] prodigy cli::events::tests::test_get_event_type_unknown
        PASS [   0.014s] prodigy cli::workflow_generator::tests::test_parse_command_claude
        PASS [   0.060s] prodigy abstractions::git::real_git_tests::test_stage_all_changes_and_commit
        PASS [   0.013s] prodigy cli::workflow_generator::tests::test_parse_command_default
        PASS [   0.050s] prodigy abstractions::git::tests::test_real_git_operations_is_git_repo
        PASS [   0.019s] prodigy cli::workflow_generator::tests::test_generate_exec_workflow
        PASS [   0.014s] prodigy cli::workflow_generator::tests::test_parse_command_shell
        PASS [   0.021s] prodigy cli::workflow_generator::tests::test_generate_batch_workflow
        PASS [   0.016s] prodigy cli::workflow_generator::tests::test_parse_command_slash
        PASS [   0.020s] prodigy commands::attributes::tests::test_attribute_value_conversions
        PASS [   0.021s] prodigy commands::attributes::tests::test_schema_defaults
        PASS [   0.021s] prodigy commands::attributes::tests::test_schema_validation
        PASS [   0.016s] prodigy commands::context::tests::test_metadata
        PASS [   0.020s] prodigy commands::context::tests::test_context_builder_pattern
        PASS [   0.019s] prodigy commands::context::tests::test_env_vars
        PASS [   0.019s] prodigy commands::context::tests::test_context_creation
        PASS [   0.018s] prodigy commands::context::tests::test_path_resolution
        PASS [   0.015s] prodigy commands::handlers::cargo::tests::test_cargo_handler_schema
        PASS [   0.018s] prodigy commands::handlers::cargo::tests::test_cargo_dry_run
        PASS [   0.021s] prodigy commands::handlers::cargo::tests::test_cargo_build
        PASS [   0.021s] prodigy commands::context::tests::test_with_executor
        PASS [   0.016s] prodigy commands::handlers::claude::tests::test_claude_handler_dry_run
        PASS [   0.019s] prodigy commands::handlers::cargo::tests::test_cargo_test_with_features
        PASS [   0.014s] prodigy commands::handlers::claude::tests::test_execution_failure
        PASS [   0.018s] prodigy commands::handlers::claude::tests::test_claude_handler_execute
        PASS [   0.017s] prodigy commands::handlers::claude::tests::test_claude_handler_schema
        PASS [   0.016s] prodigy commands::handlers::claude::tests::test_default_values
        PASS [   0.015s] prodigy commands::handlers::claude::tests::test_execution_timeout
        PASS [   0.014s] prodigy commands::handlers::claude::tests::test_with_custom_model
        PASS [   0.018s] prodigy commands::handlers::claude::tests::test_missing_prompt_attribute
        PASS [   0.021s] prodigy commands::handlers::claude::tests::test_with_all_optional_parameters
        PASS [   0.026s] prodigy commands::handlers::claude::tests::test_context_file_not_found
        PASS [   0.017s] prodigy commands::handlers::claude::tests::test_with_max_tokens
        PASS [   0.022s] prodigy commands::handlers::claude::tests::test_with_context_files
        PASS [   0.017s] prodigy commands::handlers::file::tests::test_file_exists
        PASS [   0.021s] prodigy commands::handlers::claude::tests::test_with_multiple_context_files
        PASS [   0.017s] prodigy commands::handlers::file::tests::test_file_handler_schema
        PASS [   0.020s] prodigy commands::handlers::file::tests::test_file_dry_run
        PASS [   0.020s] prodigy commands::handlers::claude::tests::test_with_system_prompt
        PASS [   0.016s] prodigy commands::handlers::git::tests::test_git_commit_dry_run
        PASS [   0.020s] prodigy commands::handlers::file::tests::test_file_write_and_read
        PASS [   0.016s] prodigy commands::handlers::git::tests::test_git_handler_schema
        PASS [   0.015s] prodigy commands::handlers::git::tests::test_git_status
        PASS [   0.018s] prodigy commands::handlers::shell::tests::test_custom_shell
        PASS [   0.016s] prodigy commands::handlers::shell::tests::test_custom_timeout
        PASS [   0.015s] prodigy commands::handlers::shell::tests::test_environment_variables
        PASS [   0.014s] prodigy commands::handlers::shell::tests::test_executor_error
        PASS [   0.019s] prodigy commands::handlers::shell::tests::test_custom_working_directory
        PASS [   0.014s] prodigy commands::handlers::shell::tests::test_missing_command_attribute
        PASS [   0.017s] prodigy commands::handlers::shell::tests::test_execution_failure
        PASS [   0.017s] prodigy commands::handlers::shell::tests::test_non_zero_exit_code
        PASS [   0.014s] prodigy commands::handlers::shell::tests::test_shell_handler_schema
        PASS [   0.015s] prodigy commands::handlers::shell::tests::test_shell_handler_dry_run
        PASS [   0.015s] prodigy commands::handlers::shell::tests::test_shell_handler_execute
        PASS [   0.016s] prodigy commands::handlers::tests::test_all_handlers
        PASS [   0.015s] prodigy commands::registry::tests::test_execute_nonexistent_handler
        PASS [   0.013s] prodigy commands::result::tests::test_command_error_display
        PASS [   0.014s] prodigy commands::result::tests::test_error_result
        PASS [   0.019s] prodigy commands::registry::tests::test_register_sync_from_non_async_context
        PASS [   0.015s] prodigy commands::result::tests::test_from_output
        PASS [   0.015s] prodigy commands::result::tests::test_success_result
        PASS [   0.015s] prodigy commands::result::tests::test_to_result
        PASS [   0.015s] prodigy commands::result::tests::test_with_duration
        PASS [   0.026s] prodigy commands::registry::tests::test_registry_execute
        PASS [   0.012s] prodigy commands::tests::test_handler_validation
        PASS [   0.012s] prodigy config::command::tests::test_analysis_config_defaults
        PASS [   0.028s] prodigy commands::registry::tests::test_registry_get_handler
        PASS [   0.030s] prodigy commands::registry::tests::test_registry_registration
        PASS [   0.011s] prodigy config::command::tests::test_command_from_string
        PASS [   0.012s] prodigy config::command::tests::test_analysis_config_with_defaults
        PASS [   0.012s] prodigy config::command::tests::test_command_creation
        PASS [   0.013s] prodigy config::command::tests::test_analysis_config_serialization
        PASS [   0.037s] prodigy commands::registry::tests::test_register_multiple_handlers
        PASS [   0.027s] prodigy commands::tests::test_command_handler_builder
        PASS [   0.014s] prodigy config::command::tests::test_command_serialization
        PASS [   0.012s] prodigy config::command::tests::test_command_with_analysis_config
        PASS [   0.012s] prodigy config::command::tests::test_commit_required_field
        PASS [   0.014s] prodigy config::command::tests::test_commit_required_serialization
        PASS [   0.013s] prodigy config::command::tests::test_default_cache_duration
        PASS [   0.017s] prodigy config::command::tests::test_conditional_workflow_serialization
        PASS [   0.015s] prodigy config::command::tests::test_workflow_command_conversion
        PASS [   0.016s] prodigy config::command::tests::test_workflow_command_with_workflow_step
        PASS [   0.014s] prodigy config::command::tests::test_workflow_step_command_parsing
        PASS [   0.016s] prodigy config::command::tests::test_workflow_config_with_new_syntax
        PASS [   0.017s] prodigy config::command::tests::test_untagged_enum_debug
        PASS [   0.014s] prodigy config::command::tests::test_workflow_step_command_with_when_clause
        PASS [   0.014s] prodigy config::command_discovery::tests::test_create_command_file_nonexistent
        PASS [   0.016s] prodigy config::command_discovery::tests::test_is_cache_valid
        PASS [   0.015s] prodigy config::command_discovery::tests::test_is_command_file
        PASS [   0.021s] prodigy config::command_discovery::tests::test_create_command_file
        PASS [   0.015s] prodigy config::command_discovery::tests::test_process_entry_with_cache
        PASS [   0.016s] prodigy config::command_discovery::tests::test_needs_refresh
        PASS [   0.018s] prodigy config::command_discovery::tests::test_multiple_valid_command_files
        PASS [   0.015s] prodigy config::command_discovery::tests::test_scan_nonexistent_directory
        PASS [   0.019s] prodigy config::command_discovery::tests::test_scan_commands_filters_correctly
        PASS [   0.020s] prodigy config::command_discovery::tests::test_scan_empty_directory
        PASS [   0.011s] prodigy config::command_parser::tests::test_parse_command_string_with_variables
        PASS [   0.012s] prodigy config::command_parser::tests::test_is_boolean_flag
        PASS [   0.034s] prodigy config::command_discovery::tests::test_cache_invalidation_on_file_update
        PASS [   0.035s] prodigy config::command_discovery::tests::test_cache_behavior
        PASS [   0.012s] prodigy config::command_parser::tests::test_parse_command_string_simple
        PASS [   0.012s] prodigy config::command_parser::tests::test_parse_command_with_args
        PASS [   0.013s] prodigy config::command_parser::tests::test_parse_command_with_options
        PASS [   0.015s] prodigy config::command_parser::tests::test_parse_command_with_slash
        PASS [   0.014s] prodigy config::command_parser::tests::test_parse_command_with_variable
        PASS [   0.014s] prodigy config::command_parser::tests::test_parse_empty_command
        PASS [   0.026s] prodigy config::command_parser::tests::test_expand_variables
        PASS [   0.012s] prodigy config::command_parser::tests::test_parse_option_at_end
        PASS [   0.017s] prodigy config::command_parser::tests::test_parse_complex_command
        PASS [   0.012s] prodigy config::command_parser::tests::test_parse_option_with_value
        PASS [   0.013s] prodigy config::command_parser::tests::test_parse_simple_command
        PASS [   0.016s] prodigy config::command_parser::tests::test_parse_option_boolean_flag
        PASS [   0.016s] prodigy config::command_parser::tests::test_parse_option_before_another_option
        PASS [   0.014s] prodigy config::command_parser::tests::test_validate_and_split_command
        PASS [   0.016s] prodigy config::command_validator::tests::test_apply_defaults
        PASS [   0.014s] prodigy config::command_validator::tests::test_create_focus_option
        PASS [   0.016s] prodigy config::command_validator::tests::test_create_metadata
        PASS [   0.017s] prodigy config::command_validator::tests::test_create_max_option
        PASS [   0.017s] prodigy config::command_validator::tests::test_registry_initialization
        PASS [   0.017s] prodigy config::command_validator::tests::test_validate_argument_counts_too_many
        PASS [   0.019s] prodigy config::command_validator::tests::test_validate_argument_counts_too_few
        PASS [   0.018s] prodigy config::command_validator::tests::test_validate_argument_types_integer_validation
        PASS [   0.015s] prodigy config::command_validator::tests::test_validate_argument_types_with_variables
        PASS [   0.020s] prodigy config::command_validator::tests::test_validate_argument_counts_exact_required
        PASS [   0.016s] prodigy config::command_validator::tests::test_validate_command_empty_command
        PASS [   0.019s] prodigy config::command_validator::tests::test_validate_command_invalid_name
        PASS [   0.016s] prodigy config::command_validator::tests::test_validate_command_options_valid
        PASS [   0.019s] prodigy config::command_validator::tests::test_validate_command_options_invalid_type
        PASS [   0.017s] prodigy config::command_validator::tests::test_validate_command_valid
        PASS [   0.019s] prodigy config::command_validator::tests::test_validate_missing_required_args
        PASS [   0.018s] prodigy config::command_validator::tests::test_validate_option_types
        PASS [   0.015s] prodigy config::command_validator::tests::test_validate_options_type_mismatch
        PASS [   0.017s] prodigy config::command_validator::tests::test_validate_optional_arguments_exceeds_limit
        PASS [   0.016s] prodigy config::command_validator::tests::test_validate_required_arguments_failure
        PASS [   0.017s] prodigy config::command_validator::tests::test_validate_required_arguments_success
        PASS [   0.018s] prodigy config::command_validator::tests::test_validate_options_with_unknown_option
        PASS [   0.019s] prodigy config::command_validator::tests::test_validate_optional_arguments_within_limit
        PASS [   0.013s] prodigy config::command_validator::tests::test_validate_unknown_command
        PASS [   0.015s] prodigy config::command_validator::tests::test_validate_required_arguments_with_variables
        PASS [   0.015s] prodigy config::command_validator::tests::test_validate_valid_command
        PASS [   0.017s] prodigy config::dynamic_registry::tests::test_check_value_type
        PASS [   0.016s] prodigy config::dynamic_registry::tests::test_edge_cases_json_values
        PASS [   0.027s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_metadata_already_set
        PASS [   0.028s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_mixed_options
        PASS [   0.026s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_options_with_defaults
        PASS [   0.028s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_no_defaults
        PASS [   0.028s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_options_already_set
        PASS [   0.026s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_partial_metadata
        PASS [   0.033s] prodigy config::dynamic_registry::tests::test_apply_definition_defaults_all_metadata_unset
        PASS [   0.022s] prodigy config::dynamic_registry::tests::test_get_type_name
        PASS [   0.030s] prodigy config::dynamic_registry::tests::test_dynamic_registry_creation
        PASS [   0.032s] prodigy config::dynamic_registry::tests::test_command_discovery_and_validation
        PASS [   0.014s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_boolean
        PASS [   0.014s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_enum
        PASS [   0.013s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_string
        PASS [   0.015s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_path
        PASS [   0.015s] prodigy config::dynamic_registry::tests::test_validate_json_value_type_integer
        PASS [   0.015s] prodigy config::loader::tests::test_concurrent_access
        PASS [   0.017s] prodigy config::loader::tests::test_load_from_path_invalid_yaml
        PASS [   0.017s] prodigy config::loader::tests::test_load_from_path_nonexistent_file
        PASS [   0.029s] prodigy config::dynamic_registry::tests::test_permissive_validation
        PASS [   0.030s] prodigy config::dynamic_registry::tests::test_list_commands
        PASS [   0.017s] prodigy config::loader::tests::test_load_project_config
        PASS [   0.015s] prodigy config::loader::tests::test_load_with_default_path
        PASS [   0.014s] prodigy config::loader::tests::test_new_creates_default_config
        PASS [   0.015s] prodigy config::loader::tests::test_load_with_no_config_uses_defaults
        FAIL [   0.025s] prodigy config::loader::tests::test_load_from_path_unsupported_format
  stdout ───

    running 1 test
    test config::loader::tests::test_load_from_path_unsupported_format ... FAILED

    failures:

    failures:
        config::loader::tests::test_load_from_path_unsupported_format

    test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 1757 filtered out; finished in 0.01s

  stderr ───

    thread 'config::loader::tests::test_load_from_path_unsupported_format' panicked at src/config/loader.rs:273:9:
    assertion failed: result.unwrap_err().to_string().contains("Unsupported configuration file format")
    note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

  Cancelling due to test failure: 11 tests still running
        PASS [   0.018s] prodigy config::mapreduce::merge_workflow_tests::test_default_timeout
        PASS [   0.014s] prodigy config::mapreduce::merge_workflow_tests::test_deserialize_full_syntax
        PASS [   0.021s] prodigy config::loader::tests::test_load_with_explicit_path_yaml
        PASS [   0.022s] prodigy config::loader::tests::test_load_with_explicit_path_nested_workflow
        PASS [   0.016s] prodigy config::mapreduce::merge_workflow_tests::test_empty_merge_workflow
        PASS [   0.018s] prodigy config::mapreduce::merge_workflow_tests::test_deserialize_simplified_syntax
        PASS [   0.016s] prodigy config::mapreduce::merge_workflow_tests::test_invalid_merge_syntax_handled_gracefully
        PASS [   0.014s] prodigy config::mapreduce::merge_workflow_tests::test_merge_with_variable_interpolation
        PASS [   0.013s] prodigy config::mapreduce::merge_workflow_tests::test_merge_workflow_with_on_failure
        PASS [   0.015s] prodigy config::mapreduce::merge_workflow_tests::test_no_merge_workflow
        PASS [   0.012s] prodigy config::mapreduce::tests::test_mixed_simplified_and_nested_syntax
────────────
     Summary [   0.334s] 210/1972 tests run: 209 passed, 1 failed, 7 skipped
        FAIL [   0.025s] prodigy config::loader::tests::test_load_from_path_unsupported_format
warning: 1762/1972 tests were not run due to test failure (run with --no-fail-fast to run all tests, or run with --max-fail)
error: test run failed
