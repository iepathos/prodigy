{
  "item_type": "section-page",
  "section_id": "workflow-basics",
  "section_title": "Workflow Basics",
  "page_id": "workflow-structure",
  "page_title": "Workflow Structure",
  "page_file": "docs/workflow-basics/workflow-structure.md",
  "feature_mappings": [],
  "drift_detected": true,
  "severity": "critical",
  "quality_assessment": "Page is completely missing - needs to be created",
  "issues": [
    {
      "type": "missing_content",
      "severity": "critical",
      "section": "Entire Page",
      "description": "Documentation page does not exist",
      "fix_suggestion": "Create workflow-structure.md documenting the basic structure of Prodigy workflow files",
      "source_reference": "src/config/workflow.rs:WorkflowConfig"
    },
    {
      "type": "missing_content",
      "severity": "high",
      "section": "Workflow File Formats",
      "description": "Need to document three supported workflow formats: simple array, commands object, and full configuration",
      "fix_suggestion": "Document WorkflowConfig deserialization formats: Commands (direct array), Full (with env/secrets/merge), and WithCommandsField (legacy)",
      "source_reference": "src/config/workflow.rs:41-114"
    },
    {
      "type": "missing_content",
      "severity": "high",
      "section": "Command Types",
      "description": "Need to document available command types and their syntax",
      "fix_suggestion": "Document WorkflowStepCommand types: claude, shell, goal_seek, foreach, write_file, validate, analyze",
      "source_reference": "src/config/command.rs:WorkflowStepCommand"
    },
    {
      "type": "missing_content",
      "severity": "high",
      "section": "Required Fields",
      "description": "Need to clarify which fields are required vs optional in workflow structure",
      "fix_suggestion": "Explain that name is optional (defaults to 'default'), commands are required, and env/secrets/profiles/merge are optional",
      "source_reference": "src/config/workflow.rs:12-39"
    },
    {
      "type": "missing_content",
      "severity": "medium",
      "section": "Simple vs Full Format",
      "description": "Need to explain when to use simple array format vs full configuration format",
      "fix_suggestion": "Add guidance: use simple array for basic workflows, use full format when you need environment variables, secrets, profiles, or custom merge workflow",
      "source_reference": "src/config/workflow.rs:WorkflowConfigHelper"
    },
    {
      "type": "missing_content",
      "severity": "medium",
      "section": "Command Execution Order",
      "description": "Need to document that commands execute sequentially in order",
      "fix_suggestion": "Clarify that commands in the array execute sequentially, state flows between commands, and each command can access outputs from previous commands",
      "source_reference": "features.json:workflow_basics.sequential_execution"
    }
  ],
  "positive_aspects": [],
  "improvement_suggestions": [
    "Start with a simple example showing the minimal workflow structure",
    "Progress to more complex examples with environment variables and profiles",
    "Include a comparison table of the three workflow formats",
    "Add examples of each command type with clear use cases",
    "Cross-reference to other workflow-basics pages for detailed coverage of variables, environment, error-handling, and conditional-execution",
    "Include a troubleshooting section for common structure mistakes"
  ],
  "recommended_content": {
    "introduction": "Explain that Prodigy workflows are defined in YAML files and support multiple formats from simple to complex",
    "simple_format": "Show direct array of commands - the most common format for basic workflows",
    "commands_format": "Show object format with commands field - legacy but still supported",
    "full_format": "Show complete format with name, commands, env, secrets, profiles, and merge",
    "command_types": "List and briefly describe each command type (detailed docs in separate pages)",
    "field_reference": "Table of all available fields with required/optional status and descriptions",
    "examples": "Real-world examples showing when to use each format",
    "next_steps": "Links to workflow-basics pages for variables, environment, error-handling, and conditional-execution"
  },
  "cross_references": [
    "variables",
    "environment", 
    "error-handling",
    "conditional-execution"
  ],
  "metadata": {
    "analyzed_at": "2025-11-11T09:00:00Z",
    "feature_inventory": ".prodigy/mkdocs-analysis/features.json",
    "topics_covered": [
      "Basic structure",
      "Command execution",
      "Available fields"
    ],
    "validation_focus": "Check basic workflow syntax and structure documentation",
    "note": "This is a fundamental page that should exist as part of the workflow-basics section. The page should provide a clear overview of workflow file structure without going deep into specific features (those are covered in dedicated pages)."
  }
}
