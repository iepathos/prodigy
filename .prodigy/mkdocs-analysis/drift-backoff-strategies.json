{
  "item_type": "auto-discovered",
  "page_id": "backoff-strategies",
  "page_title": "backoff strategies",
  "page_file": "docs/mapreduce/backoff-strategies.md",
  "drift_detected": true,
  "severity": "low",
  "quality_assessment": "Comprehensive and well-structured documentation with minor line number drift in source references. All features accurately documented with correct YAML syntax examples and behavior descriptions.",
  "issues": [
    {
      "type": "outdated_information",
      "severity": "low",
      "section": "Source Line References",
      "description": "Several source code line number references are slightly off by 1-2 lines due to code evolution",
      "current_content": "RetryConfig at src/cook/retry_v2.rs:16-52, tests at :583-594, :597-610, :613-626, :629-642",
      "should_be": "RetryConfig at src/cook/retry_v2.rs:14-52, tests at :582-594, :596-610, :612-626, :628-642",
      "fix_suggestion": "Update line number references to match current codebase. Consider linking to symbol names instead of line numbers for more stable references.",
      "source_reference": "src/cook/retry_v2.rs"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "retry_v2 Features",
      "description": "Documentation mentions jitter but does not document retry_budget or on_failure fields from RetryConfig",
      "feature_reference": "error_handling.retry_configuration",
      "fix_suggestion": "Add documentation for retry_budget (maximum total time for retries) and on_failure (action on final failure: Stop, Continue, Fallback) fields from retry_v2.rs RetryConfig",
      "source_reference": "src/cook/retry_v2.rs:46-51"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "retry_v2 Features",
      "description": "Documentation does not mention the retry_on field that allows matching specific error types (Network, Timeout, ServerError, RateLimit, Pattern)",
      "feature_reference": "error_handling.retry_configuration",
      "fix_suggestion": "Add section documenting the retry_on field with ErrorMatcher options: Network, Timeout, ServerError, RateLimit, and Pattern(regex)",
      "source_reference": "src/cook/retry_v2.rs:42-43, :100-151"
    }
  ],
  "positive_aspects": [
    "Excellent coverage of all five backoff strategies (Fixed, Linear, Exponential, Fibonacci, Custom)",
    "Clear distinction between retry_v2 and error_policy implementations",
    "Good YAML examples showing both simple and explicit forms for each strategy",
    "Accurate behavior descriptions with delay calculations for each strategy",
    "Helpful comparison table for choosing strategies",
    "Well-documented edge cases for Custom delays (empty array, exceeding array length)",
    "Accurate documentation of jitter_factor range (0.0-1.0)",
    "Good troubleshooting section covering common issues",
    "Correct humantime format examples",
    "Complete MapReduce integration example"
  ],
  "improvement_suggestions": [
    "Add visual diagram showing delay progression for each strategy",
    "Add admonition box highlighting the default strategy (Exponential with base 2.0)",
    "Consider using symbol-based references (e.g., 'BackoffStrategy::Fixed') rather than line numbers for more stable documentation",
    "Add example showing retry_on error matchers for selective retry",
    "Document retry_budget timeout feature for limiting total retry time",
    "Add code annotation tabs comparing retry_v2 vs error_policy syntax side-by-side"
  ],
  "cross_references": [
    "dead-letter-queue-dlq",
    "error-collection-strategies",
    "troubleshooting"
  ],
  "metadata": {
    "analyzed_at": "2025-12-27T22:02:00Z",
    "feature_inventory": ".prodigy/mkdocs-analysis/features.json",
    "topics_covered": [
      "backoff strategies",
      "retry configuration",
      "exponential backoff",
      "fibonacci backoff",
      "linear backoff",
      "fixed backoff",
      "custom delays",
      "jitter",
      "circuit breaker",
      "mapreduce error handling"
    ],
    "validation_focus": "Auto-discovered page - check for drift and enhance with visual features",
    "source_files_verified": [
      "src/cook/retry_v2.rs",
      "src/cook/workflow/error_policy.rs"
    ],
    "line_number_accuracy": "95%",
    "feature_coverage": "85%"
  }
}
