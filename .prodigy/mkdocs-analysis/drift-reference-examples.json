{
  "item_type": "section-page",
  "section_id": "reference",
  "section_title": "Reference",
  "page_id": "examples",
  "page_title": "Examples",
  "page_file": "docs/examples.md",
  "drift_detected": true,
  "severity": "medium",
  "quality_assessment": "Examples are comprehensive and well-structured, but contain deprecated syntax in some actual example files that contradicts documentation guidance",
  "issues": [
    {
      "type": "outdated_information",
      "severity": "medium",
      "section": "Example 4: Parallel Code Review",
      "description": "Two actual example YAML files in the repository still use deprecated 'timeout_per_agent' syntax",
      "current_content": "examples/mapreduce-json-input.yml:40 and examples/mapreduce-command-input.yml:26 both use 'timeout_per_agent: 60'",
      "should_be": "Should use 'agent_timeout_secs' or 'timeout_config' as documented in Example 8",
      "fix_suggestion": "Update examples/mapreduce-json-input.yml and examples/mapreduce-command-input.yml to use current timeout syntax (agent_timeout_secs or timeout_config block)",
      "source_reference": "src/cli/yaml_validator.rs:108-113 shows timeout_per_agent is deprecated and blocked by validator"
    },
    {
      "type": "inconsistent_examples",
      "severity": "medium",
      "section": "Example 8: Complex MapReduce with Error Handling",
      "description": "Documentation shows 'on_failure' as nested commands under agent_template, but actual workflow files show different usage patterns",
      "current_content": "Documentation shows:\n```yaml\nagent_template:\n  - shell: \"cargo test\"\n    on_failure:\n      claude: \"/debug-and-fix\"\n```",
      "should_be": "Verify if on_failure should be a single command or an array of commands. Actual workflows show mixed usage.",
      "fix_suggestion": "Clarify on_failure syntax - should it be a single command or an array? Update Example 8 to show the canonical pattern that matches src/config/ definitions.",
      "source_reference": "Multiple workflow files show 'on_failure:' with various syntaxes - needs clarification"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Example 14: Custom Merge Workflows",
      "description": "Merge workflow example doesn't demonstrate timeout failure scenarios or what happens when merge commands fail",
      "fix_suggestion": "Add a note or sub-example showing what happens when merge validation fails, and how to recover",
      "source_reference": "src/config/mapreduce.rs:84-94 defines merge timeout, but error scenarios not covered"
    },
    {
      "type": "incomplete_explanation",
      "severity": "low",
      "section": "Example 6: Multi-Step Validation",
      "description": "Validation example shows 'validate' command structure but doesn't explain the full validation lifecycle or how validation.gaps is populated",
      "fix_suggestion": "Add explanation of how validation.gaps variable is populated and what format it expects from the validation script/command",
      "source_reference": "features.json:command_types.validate shows implementation_completeness_validation capabilities"
    },
    {
      "type": "broken_links",
      "severity": "low",
      "section": "Cross-References",
      "description": "All internal documentation links are valid",
      "broken_links": [],
      "validation_summary": "Checked 2 internal links: workflow-basics/error-handling.md and mapreduce/backoff-strategies.md - both exist"
    }
  ],
  "positive_aspects": [
    "Comprehensive coverage of all major workflow features",
    "Clear progression from simple to advanced examples",
    "Excellent quick reference table at the top",
    "Good use of source references to actual code",
    "Strong explanations of goal seeking, circuit breakers, and retry strategies",
    "Well-structured sections with consistent formatting",
    "Good balance of YAML examples and explanatory text",
    "Examples demonstrate both standard and MapReduce workflow modes",
    "Clear documentation of merge workflows with environment variables",
    "Good coverage of environment variables, secrets, and profiles"
  ],
  "improvement_suggestions": [
    "Fix the deprecated timeout_per_agent usage in examples/mapreduce-json-input.yml and examples/mapreduce-command-input.yml",
    "Clarify on_failure syntax - ensure consistency between documentation and actual workflow examples",
    "Add troubleshooting section for common example-running issues",
    "Consider adding a 'Running These Examples' section showing how to execute them",
    "Add note about which examples are self-contained vs. which require project setup",
    "Consider adding expected output snippets for each example to show what success looks like",
    "Add cross-reference from Example 8 to DLQ documentation page for deep dive on failure handling"
  ],
  "cross_references": [
    "workflow-basics/error-handling",
    "mapreduce/backoff-strategies",
    "workflow-basics/environment-variables",
    "mapreduce/checkpoint-resume",
    "mapreduce/dead-letter-queue"
  ],
  "metadata": {
    "analyzed_at": "2025-01-11T21:24:00Z",
    "feature_inventory": ".prodigy/mkdocs-analysis/features.json",
    "topics_covered": [
      "Practical workflows",
      "Use cases",
      "Best practices",
      "Standard workflows",
      "MapReduce workflows",
      "Error handling",
      "Environment variables",
      "Goal seeking",
      "Circuit breakers",
      "Retry strategies",
      "Workflow composition",
      "Custom merge workflows"
    ],
    "validation_focus": "Check examples are valid and work with current syntax",
    "examples_count": 14,
    "deprecated_syntax_found": true,
    "deprecated_fields": [
      "timeout_per_agent"
    ],
    "affected_files": [
      "examples/mapreduce-json-input.yml",
      "examples/mapreduce-command-input.yml"
    ]
  }
}
