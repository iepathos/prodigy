{
  "item_type": "chapter",
  "chapter_id": "workflow-basics",
  "chapter_title": "Workflow Basics",
  "chapter_file": "book/src/workflow-basics.md",
  "drift_detected": true,
  "severity": "critical",
  "quality_assessment": "Chapter file does not exist - critical documentation gap for fundamental workflow concepts",
  "issues": [
    {
      "type": "missing_content",
      "severity": "critical",
      "section": "Entire Chapter",
      "description": "The workflow-basics.md file does not exist. This is a fundamental chapter that should document basic workflow structure, command execution, and sequential workflows.",
      "fix_suggestion": "Create book/src/workflow-basics.md with comprehensive documentation of standard workflow features",
      "source_reference": "src/config/workflow.rs, src/config/command.rs, examples/standard-workflow.yml"
    },
    {
      "type": "missing_content",
      "severity": "high",
      "section": "Workflow Structure",
      "description": "Missing documentation for workflow configuration formats: direct command array (simple), full config with name/env/merge (comprehensive), and legacy commands field format",
      "fix_suggestion": "Document all three workflow formats with examples showing when to use each",
      "source_reference": "src/config/workflow.rs:41-114 WorkflowConfig deserializer"
    },
    {
      "type": "missing_content",
      "severity": "high",
      "section": "Command Types",
      "description": "Missing documentation for command types: shell, claude, test, goal_seek, foreach, write_file, and handler commands",
      "fix_suggestion": "Create section explaining each command type with syntax examples and use cases",
      "source_reference": "src/config/command.rs WorkflowStepCommand, src/cook/workflow/normalized.rs:43-55 StepCommand enum"
    },
    {
      "type": "missing_content",
      "severity": "high",
      "section": "Command Syntax",
      "description": "Missing documentation for command syntax formats: Simple strings, Structured format (WorkflowStep), and SimpleObject format",
      "fix_suggestion": "Document command syntax progression from simple to complex with examples",
      "source_reference": "src/config/command.rs:570-621 WorkflowCommand enum"
    },
    {
      "type": "missing_content",
      "severity": "medium",
      "section": "Sequential Execution",
      "description": "Missing documentation for how commands execute sequentially, one at a time, with output capture",
      "fix_suggestion": "Explain sequential execution model, command ordering, and state flow between commands",
      "source_reference": "features.json workflow_basics.execution_model"
    },
    {
      "type": "missing_content",
      "severity": "medium",
      "section": "Variable Interpolation",
      "description": "Missing documentation for variable syntax ${VAR} and $VAR formats",
      "fix_suggestion": "Document variable interpolation syntax and scope in basic workflows",
      "source_reference": "src/core/workflow/mod.rs:17-32 interpolate_variables"
    },
    {
      "type": "missing_content",
      "severity": "medium",
      "section": "Environment Variables",
      "description": "Missing documentation for env, secrets, env_files, and profiles fields in workflow config",
      "fix_suggestion": "Add section on environment configuration at workflow level",
      "source_reference": "src/config/workflow.rs:20-34 WorkflowConfig env fields"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Merge Workflows",
      "description": "Missing documentation for optional custom merge workflow configuration",
      "fix_suggestion": "Document merge workflow field for worktree integration",
      "source_reference": "src/config/workflow.rs:36-38 WorkflowConfig merge field"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Step-Level Fields",
      "description": "Missing documentation for step-level configuration: timeout, working_dir, env, commit_required, when clauses",
      "fix_suggestion": "Document per-step configuration options for fine-grained control",
      "source_reference": "src/cook/workflow/normalized.rs:28-40 NormalizedStep"
    }
  ],
  "positive_aspects": [],
  "improvement_suggestions": [
    "Start with simplest workflow format (direct array of shell commands) to show ease of use",
    "Progress from simple to complex, building on concepts incrementally",
    "Include real-world example workflow showing multiple command types",
    "Add comparison table showing when to use different workflow formats",
    "Cross-reference advanced features (MapReduce, error handling) to later chapters",
    "Include troubleshooting section for common beginner mistakes",
    "Show how workflow basics relate to git worktree isolation",
    "Explain commit tracking and audit trail from the start"
  ],
  "metadata": {
    "analyzed_at": "2025-01-11T19:38:00Z",
    "feature_inventory": ".prodigy/book-analysis/features.json",
    "topics_covered": [
      "Standard workflows",
      "Basic structure",
      "Command execution"
    ],
    "validation_focus": "Check basic workflow syntax and structure documentation"
  }
}
