name: test-mapreduce-resume
description: Test MapReduce workflow for resume functionality

map:
  input: test-items.json
  json_path: "$[*]"
  max_parallel: 2
  agent_template:
    - shell: "echo 'Processing ${item.id}'"
    - shell: "sleep 1"
    - shell: "echo 'Completed ${item.id}'"

reduce:
  - shell: "echo 'Reduce phase: Found ${map.successful} successful items'"
  - shell: "echo 'Total processed: ${map.total}'"