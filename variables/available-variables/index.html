
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AI-powered workflow orchestration for development teams">
      
      
        <meta name="author" content="Glen Baker">
      
      
        <link rel="canonical" href="https://entropicdrift.com/variables/available-variables/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../custom-variable-capture/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Available Variables - Prodigy Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#available-variables" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Prodigy Documentation" class="md-header__button md-logo" aria-label="Prodigy Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Prodigy Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Available Variables
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/iepathos/prodigy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    iepathos/prodigy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../workflow-basics/" class="md-tabs__link">
          
  
  
    
  
  User Guide

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../advanced/" class="md-tabs__link">
          
  
  
    
  
  Advanced

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Prodigy Documentation" class="md-nav__button md-logo" aria-label="Prodigy Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Prodigy Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/iepathos/prodigy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    iepathos/prodigy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../workflow-basics/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Workflow Basics
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Workflow Basics
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/workflow-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/full-workflow-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Full Workflow Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/available-fields/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Available Fields
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/command-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/command-level-options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command-Level Options
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/conditional-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conditional Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/error-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/environment-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/merge-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Merge Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/complete-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Complete Example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/next-steps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Next Steps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../mapreduce/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    MapReduce Workflows
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    MapReduce Workflows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/work-distribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Work Distribution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/environment-variables-in-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Variables in Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/backoff-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backoff Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/error-collection-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Collection Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/setup-phase-advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup Phase (Advanced)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/global-storage-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Global Storage Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/event-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Event Tracking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/checkpoint-and-resume/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Checkpoint and Resume
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/dead-letter-queue-dlq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dead Letter Queue (DLQ)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce/workflow-format-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow Format Comparison
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Variables and Interpolation
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Variables and Interpolation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Available Variables
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Available Variables
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#available-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Available Variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Available Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computed-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computed Variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Computed Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables-env" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment Variables (env.*)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-content-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Content (file:)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-output-cmd" class="md-nav__link">
    <span class="md-ellipsis">
      
        Command Output (cmd:)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-path-extraction-json" class="md-nav__link">
    <span class="md-ellipsis">
      
        JSON Path Extraction (json:)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-formatting-date" class="md-nav__link">
    <span class="md-ellipsis">
      
        Date Formatting (date:)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuid-generation-uuid" class="md-nav__link">
    <span class="md-ellipsis">
      
        UUID Generation (uuid)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computed-variable-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computed Variable Caching
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow-context-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow Context Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-context-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step Context Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#item-variables-map-phase-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        Item Variables (Map Phase Only)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Item Variables (Map Phase Only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arbitrary-field-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        Arbitrary Field Access
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapreduce-variables-reduce-phase-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        MapReduce Variables (Reduce Phase Only)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MapReduce Variables (Reduce Phase Only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#indexed-access-to-map-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indexed Access to Map Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-array-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full Array Processing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-context-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Git Context Variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git Context Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-modifiers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Format Modifiers
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-variables-merge-phase-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        Merge Variables (Merge Phase Only)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Merge Variables (Merge Phase Only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-merge-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Merge Context
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-git-context-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Merge Git Context Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-context-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Merge Context Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commit-object-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Commit Object Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-object-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Object Structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-interpolation-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variable Interpolation Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legacy-variable-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Legacy Variable Aliases
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Legacy Variable Aliases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpolation-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interpolation Modes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-scoping-and-precedence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variable Scoping and Precedence
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Variable Scoping and Precedence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-by-phase" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope by Phase
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-precedence-highest-to-lowest" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variable Precedence (highest to lowest)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parent-context-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parent Context Resolution
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduce-phase-access-to-item-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reduce Phase Access to Item Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-template-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance: Template Caching
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance: Template Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template-parse-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Template Parse Caching
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computed-variable-caching_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computed Variable Caching
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom-variable-capture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Variable Capture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting-variable-interpolation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting Variable Interpolation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../environment/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Environment Configuration
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Environment Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/mapreduce-environment-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MapReduce Environment Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/environment-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/secrets-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Secrets Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/environment-profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/per-command-environment-overrides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Per-Command Environment Overrides
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/environment-precedence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Precedence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/common-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Common Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../configuration/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/configuration-precedence-rules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration Precedence Rules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/global-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Global Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/global-configuration-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Global Configuration Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/project-configuration-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Configuration Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/workflow-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/storage-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/environment-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/complete-configuration-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Complete Configuration Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/default-values-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Default Values Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../advanced/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Advanced Features
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced Features
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/step-identification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Step Identification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/timeout-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Timeout Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/implementation-validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Implementation Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/parallel-iteration-with-foreach/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parallel Iteration with Foreach
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/goal-seeking-operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Goal-Seeking Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/composition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Composition
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/git-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Git Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/observability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Observability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/sessions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sessions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git-context-advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Git Context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../composition/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Workflow Composition
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Workflow Composition
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../composition/workflow-extension-inheritance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow Extension (Inheritance)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../composition/template-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Template System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../composition/parameter-definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parameter Definitions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../composition/default-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Default Values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../composition/sub-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sub-Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../composition/composition-metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Composition Metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../composition/complete-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Complete Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../composition/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../retry-configuration/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Retry Configuration
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Retry Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/basic-retry-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic Retry Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/backoff-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backoff Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/backoff-strategy-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backoff Strategy Comparison
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/jitter-for-distributed-systems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Jitter for Distributed Systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/conditional-retry-with-error-matchers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conditional Retry with Error Matchers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/retry-budget/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retry Budget
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/failure-actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Failure Actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/complete-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Complete Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/workflow-level-vs-command-level-retry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow-Level vs Command-Level Retry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/retry-metrics-and-observability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retry Metrics and Observability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retry-configuration/implementation-references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Implementation References
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow-basics/error-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapreduce-worktree-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MapReduce Worktree Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../automated-documentation/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Automated Documentation
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Automated Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial (30 Minutes)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/understanding-the-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Understanding the Workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/mkdocs-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MkDocs Workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/automatic-gap-detection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automatic Gap Detection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/github-actions-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GitHub Actions Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/advanced-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/real-world-example-prodigys-own-documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Real-World Example: Prodigy's Own Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automated-documentation/documentation-versioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../troubleshooting/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Troubleshooting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/common-error-messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Common Error Messages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#available-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Available Variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Available Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computed-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computed Variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Computed Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables-env" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment Variables (env.*)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-content-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Content (file:)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-output-cmd" class="md-nav__link">
    <span class="md-ellipsis">
      
        Command Output (cmd:)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-path-extraction-json" class="md-nav__link">
    <span class="md-ellipsis">
      
        JSON Path Extraction (json:)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-formatting-date" class="md-nav__link">
    <span class="md-ellipsis">
      
        Date Formatting (date:)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuid-generation-uuid" class="md-nav__link">
    <span class="md-ellipsis">
      
        UUID Generation (uuid)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computed-variable-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computed Variable Caching
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow-context-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow Context Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-context-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step Context Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#item-variables-map-phase-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        Item Variables (Map Phase Only)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Item Variables (Map Phase Only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arbitrary-field-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        Arbitrary Field Access
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapreduce-variables-reduce-phase-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        MapReduce Variables (Reduce Phase Only)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MapReduce Variables (Reduce Phase Only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#indexed-access-to-map-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indexed Access to Map Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-array-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full Array Processing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-context-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Git Context Variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git Context Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-modifiers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Format Modifiers
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-variables-merge-phase-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        Merge Variables (Merge Phase Only)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Merge Variables (Merge Phase Only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-merge-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Merge Context
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-git-context-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Merge Git Context Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-context-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Merge Context Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commit-object-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Commit Object Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-object-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Object Structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-interpolation-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variable Interpolation Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legacy-variable-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Legacy Variable Aliases
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Legacy Variable Aliases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpolation-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interpolation Modes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-scoping-and-precedence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variable Scoping and Precedence
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Variable Scoping and Precedence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-by-phase" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope by Phase
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-precedence-highest-to-lowest" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variable Precedence (highest to lowest)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parent-context-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parent Context Resolution
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduce-phase-access-to-item-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reduce Phase Access to Item Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-template-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance: Template Caching
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance: Template Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template-parse-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Template Parse Caching
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computed-variable-caching_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computed Variable Caching
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Available Variables</h1>

<h2 id="available-variables">Available Variables<a class="headerlink" href="#available-variables" title="Permanent link">&para;</a></h2>
<p>Prodigy provides a comprehensive set of built-in variables that are automatically available based on your workflow context. All variables use the <code>${variable.name}</code> interpolation syntax.</p>
<h3 id="standard-variables">Standard Variables<a class="headerlink" href="#standard-variables" title="Permanent link">&para;</a></h3>
<p>These variables capture output from the most recently executed command:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${last.output}</code></td>
<td>Output from the last command of any type (shell, claude, handler)</td>
<td><code>echo ${last.output}</code></td>
</tr>
<tr>
<td><code>${last.exit_code}</code></td>
<td>Exit code from the last command</td>
<td><code>if [ ${last.exit_code} -eq 0 ]</code></td>
</tr>
<tr>
<td><code>${shell.output}</code></td>
<td>Output from the last shell command specifically</td>
<td><code>echo ${shell.output}</code></td>
</tr>
<tr>
<td><code>${claude.output}</code></td>
<td>Output from the last Claude command specifically</td>
<td><code>echo ${claude.output}</code></td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> Use <code>${last.output}</code> when you need output from any command type. Use <code>${shell.output}</code> or <code>${claude.output}</code> when you specifically want output from that command type.</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cargo</span><span class="nv"> </span><span class="s">test</span><span class="nv"> </span><span class="s">--lib&quot;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Test</span><span class="nv"> </span><span class="s">output:</span><span class="nv"> </span><span class="s">${shell.output}&#39;&quot;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># last.output works with any command type</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">claude</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/analyze-code&quot;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Claude</span><span class="nv"> </span><span class="s">analysis:</span><span class="nv"> </span><span class="s">${last.output}&#39;&quot;</span>
</code></pre></div></p>
<h3 id="computed-variables">Computed Variables<a class="headerlink" href="#computed-variables" title="Permanent link">&para;</a></h3>
<p>Computed variables are dynamically evaluated at runtime, providing access to external data sources and generated values. These variables are prefixed with specific identifiers that trigger their evaluation.</p>
<p><strong>Source:</strong> src/cook/execution/variables.rs:100-305</p>
<table>
<thead>
<tr>
<th>Variable Type</th>
<th>Syntax</th>
<th>Description</th>
<th>Cached</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Environment</strong></td>
<td><code>${env.VAR_NAME}</code></td>
<td>Read environment variable</td>
<td>Yes</td>
<td><code>${env.HOME}</code>, <code>${env.PATH}</code></td>
</tr>
<tr>
<td><strong>File Content</strong></td>
<td><code>${file:path/to/file}</code></td>
<td>Read file contents</td>
<td>Yes</td>
<td><code>${file:config.txt}</code>, <code>${file:data.json}</code></td>
</tr>
<tr>
<td><strong>Command Output</strong></td>
<td><code>${cmd:shell-command}</code></td>
<td>Execute command and capture output</td>
<td>Yes</td>
<td><code>${cmd:git rev-parse HEAD}</code>, <code>${cmd:date +%Y}</code></td>
</tr>
<tr>
<td><strong>JSON Path</strong></td>
<td><code>${json:path:from:source_var}</code></td>
<td>Extract from JSON using JSONPath</td>
<td>No</td>
<td><code>${json:$.items[0].name:from:data}</code></td>
</tr>
<tr>
<td><strong>Date Format</strong></td>
<td><code>${date:format}</code></td>
<td>Current date/time with format</td>
<td>No</td>
<td><code>${date:%Y-%m-%d}</code>, <code>${date:%H:%M:%S}</code></td>
</tr>
<tr>
<td><strong>UUID</strong></td>
<td><code>${uuid}</code></td>
<td>Generate random UUID v4</td>
<td>No</td>
<td><code>${uuid}</code> (always unique)</td>
</tr>
</tbody>
</table>
<p><strong>Available in:</strong> All phases</p>
<h4 id="environment-variables-env">Environment Variables (<code>env.*</code>)<a class="headerlink" href="#environment-variables-env" title="Permanent link">&para;</a></h4>
<p>Access environment variables at runtime. Useful for reading system configuration or secrets.</p>
<p><strong>Source:</strong> src/cook/execution/variables.rs:160-187</p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Read user&#39;s home directory</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Home:</span><span class="nv"> </span><span class="s">${env.HOME}&#39;&quot;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Use CI environment variables</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Running</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">${env.CI_PROVIDER:-local}&#39;&quot;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># Access secrets from environment</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;curl</span><span class="nv"> </span><span class="s">-H</span><span class="nv"> </span><span class="s">&#39;Authorization:</span><span class="nv"> </span><span class="s">Bearer</span><span class="nv"> </span><span class="s">${env.API_TOKEN}&#39;</span><span class="nv"> </span><span class="s">https://api.example.com&quot;</span>
</code></pre></div></p>
<p><strong>Caching:</strong> Environment variable reads are cached for performance (LRU cache, 100 entries).</p>
<h4 id="file-content-file">File Content (<code>file:</code>)<a class="headerlink" href="#file-content-file" title="Permanent link">&para;</a></h4>
<p>Read file contents directly into variables. Useful for configuration, templates, or data files.</p>
<p><strong>Source:</strong> src/cook/execution/variables.rs:189-216</p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Read version from file</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Version:</span><span class="nv"> </span><span class="s">${file:VERSION}&#39;&quot;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># Use file content in command</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;git</span><span class="nv"> </span><span class="s">commit</span><span class="nv"> </span><span class="s">-m</span><span class="nv"> </span><span class="s">&#39;${file:.commit-message.txt}&#39;&quot;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c1"># Read JSON configuration</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;${file:config.json}&#39;</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">jq</span><span class="nv"> </span><span class="s">&#39;.database.host&#39;&quot;</span>
</code></pre></div></p>
<p><strong>Caching:</strong> File reads are cached (file content is expensive to read repeatedly).</p>
<p><strong>Note:</strong> File paths are relative to workflow execution directory.</p>
<h4 id="command-output-cmd">Command Output (<code>cmd:</code>)<a class="headerlink" href="#command-output-cmd" title="Permanent link">&para;</a></h4>
<p>Execute shell commands and capture their output as variable values. Powerful for dynamic configuration.</p>
<p><strong>Source:</strong> src/cook/execution/variables.rs:218-256</p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Get current git commit</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Building</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">${cmd:git</span><span class="nv"> </span><span class="s">rev-parse</span><span class="nv"> </span><span class="s">--short</span><span class="nv"> </span><span class="s">HEAD}&#39;&quot;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># Use command output in logic</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;if</span><span class="nv"> </span><span class="s">[</span><span class="nv"> </span><span class="s">&#39;${cmd:uname}&#39;</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">&#39;Darwin&#39;</span><span class="nv"> </span><span class="s">];</span><span class="nv"> </span><span class="s">then</span><span class="nv"> </span><span class="s">echo</span><span class="nv"> </span><span class="s">&#39;macOS&#39;;</span><span class="nv"> </span><span class="s">fi&quot;</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1"># Capture timestamp</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Build</span><span class="nv"> </span><span class="s">started</span><span class="nv"> </span><span class="s">at</span><span class="nv"> </span><span class="s">${cmd:date</span><span class="nv"> </span><span class="s">+%Y-%m-%d_%H-%M-%S}&#39;&quot;</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="c1"># Dynamic configuration</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cargo</span><span class="nv"> </span><span class="s">build</span><span class="nv"> </span><span class="s">--jobs</span><span class="nv"> </span><span class="s">${cmd:nproc}&quot;</span>
</code></pre></div></p>
<p><strong>Caching:</strong> Command execution results are cached (commands are expensive to execute repeatedly).</p>
<p><strong>Security Warning:</strong> Be cautious with <code>cmd:</code> variables in untrusted workflows - they execute arbitrary shell commands.</p>
<h4 id="json-path-extraction-json">JSON Path Extraction (<code>json:</code>)<a class="headerlink" href="#json-path-extraction-json" title="Permanent link">&para;</a></h4>
<p>Extract values from JSON data using JSONPath syntax. Useful for processing complex JSON structures.</p>
<p><strong>Source:</strong> src/cook/execution/variables.rs:350-379</p>
<p><strong>Syntax:</strong> <code>${json:path:from:source_variable}</code></p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Extract from captured variable</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;curl</span><span class="nv"> </span><span class="s">https://api.example.com/data&quot;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;api_response&quot;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;ID:</span><span class="nv"> </span><span class="s">${json:$.id:from:api_response}&#39;&quot;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="c1"># Extract array element</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;First</span><span class="nv"> </span><span class="s">item:</span><span class="nv"> </span><span class="s">${json:$.items[0].name:from:api_response}&#39;&quot;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="c1"># Extract nested field</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Author:</span><span class="nv"> </span><span class="s">${json:$.metadata.author:from:config}&#39;&quot;</span>
</code></pre></div></p>
<p><strong>Not Cached:</strong> JSON path extraction is fast and not cached.</p>
<p><strong>Requires:</strong> Source variable must contain valid JSON.</p>
<h4 id="date-formatting-date">Date Formatting (<code>date:</code>)<a class="headerlink" href="#date-formatting-date" title="Permanent link">&para;</a></h4>
<p>Generate current date/time with custom formatting using chrono format specifiers.</p>
<p><strong>Source:</strong> src/cook/execution/variables.rs:278-305</p>
<p><strong>Syntax:</strong> <code>${date:format}</code> (uses chrono format specifiers)</p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># ISO 8601 date</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Report</span><span class="nv"> </span><span class="s">generated:</span><span class="nv"> </span><span class="s">${date:%Y-%m-%d}&#39;&quot;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># Full timestamp</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Build</span><span class="nv"> </span><span class="s">time:</span><span class="nv"> </span><span class="s">${date:%Y-%m-%d</span><span class="nv"> </span><span class="s">%H:%M:%S}&#39;&quot;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1"># Custom format</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mkdir</span><span class="nv"> </span><span class="s">backup-${date:%Y%m%d-%H%M%S}&quot;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="c1"># Use in filenames</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cp</span><span class="nv"> </span><span class="s">logs.txt</span><span class="nv"> </span><span class="s">logs-${date:%Y-%m-%d}.txt&quot;</span>
</code></pre></div></p>
<p><strong>Common Format Specifiers:</strong>
- <code>%Y</code> - 4-digit year (2025)
- <code>%m</code> - Month (01-12)
- <code>%d</code> - Day (01-31)
- <code>%H</code> - Hour 24h (00-23)
- <code>%M</code> - Minute (00-59)
- <code>%S</code> - Second (00-59)
- <code>%F</code> - ISO 8601 date (2025-01-15)
- <code>%T</code> - ISO 8601 time (14:30:45)</p>
<p><strong>Not Cached:</strong> Date values change over time and are not cached.</p>
<h4 id="uuid-generation-uuid">UUID Generation (<code>uuid</code>)<a class="headerlink" href="#uuid-generation-uuid" title="Permanent link">&para;</a></h4>
<p>Generate a random UUID version 4. Useful for unique identifiers, temporary filenames, or correlation IDs.</p>
<p><strong>Source:</strong> src/cook/execution/variables.rs:258-276</p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Generate unique identifier</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Request</span><span class="nv"> </span><span class="s">ID:</span><span class="nv"> </span><span class="s">${uuid}&#39;&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1"># Create unique temporary file</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mkdir</span><span class="nv"> </span><span class="s">/tmp/build-${uuid}&quot;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1"># Correlation ID for tracking</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;curl</span><span class="nv"> </span><span class="s">-H</span><span class="nv"> </span><span class="s">&#39;X-Correlation-ID:</span><span class="nv"> </span><span class="s">${uuid}&#39;</span><span class="nv"> </span><span class="s">https://api.example.com&quot;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1"># Unique test run ID</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cargo</span><span class="nv"> </span><span class="s">test</span><span class="nv"> </span><span class="s">--</span><span class="nv"> </span><span class="s">--test-id</span><span class="nv"> </span><span class="s">${uuid}&quot;</span>
</code></pre></div></p>
<p><strong>Not Cached:</strong> Each <code>${uuid}</code> reference generates a NEW unique UUID. If you need the same UUID multiple times, capture it first:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;${uuid}&#39;&quot;</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;run_id&quot;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Run</span><span class="nv"> </span><span class="s">ID:</span><span class="nv"> </span><span class="s">${run_id}&#39;&quot;</span><span class="w">  </span><span class="c1"># Same UUID</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Same</span><span class="nv"> </span><span class="s">ID:</span><span class="nv"> </span><span class="s">${run_id}&#39;&quot;</span><span class="w"> </span><span class="c1"># Still same UUID</span>
</code></pre></div>
<h4 id="computed-variable-caching">Computed Variable Caching<a class="headerlink" href="#computed-variable-caching" title="Permanent link">&para;</a></h4>
<p>Computed variables have different caching behaviors based on their expense and volatility:</p>
<p><strong>Cached (Expensive Operations):</strong>
- <code>env.*</code> - Environment variable reads
- <code>file:*</code> - File system operations
- <code>cmd:*</code> - Shell command execution</p>
<p><strong>Not Cached (Fast or Volatile):</strong>
- <code>json:*</code> - JSON parsing is fast
- <code>date:*</code> - Values change over time
- <code>uuid</code> - Must be unique each time</p>
<p><strong>Cache Details:</strong>
- <strong>Type:</strong> LRU (Least Recently Used) cache
- <strong>Size:</strong> 100 entries maximum
- <strong>Scope:</strong> Per workflow execution
- <strong>Thread Safety:</strong> Async RwLock protection</p>
<p><strong>Source:</strong> src/cook/execution/variables.rs:218-256 (caching implementation)</p>
<h3 id="workflow-context-variables">Workflow Context Variables<a class="headerlink" href="#workflow-context-variables" title="Permanent link">&para;</a></h3>
<p>Variables that provide information about the current workflow execution:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${workflow.name}</code></td>
<td>Workflow name from YAML config</td>
<td><code>echo "Running ${workflow.name}"</code></td>
</tr>
<tr>
<td><code>${workflow.id}</code></td>
<td>Unique workflow identifier</td>
<td><code>log-${workflow.id}.txt</code></td>
</tr>
<tr>
<td><code>${workflow.iteration}</code></td>
<td>Current iteration number (for loops)</td>
<td><code>Iteration ${workflow.iteration}</code></td>
</tr>
</tbody>
</table>
<p><strong>Available in:</strong> All phases (setup, map, reduce, merge)</p>
<h3 id="step-context-variables">Step Context Variables<a class="headerlink" href="#step-context-variables" title="Permanent link">&para;</a></h3>
<p>Variables providing information about the current execution step:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${step.name}</code></td>
<td>Step name or identifier</td>
<td><code>echo "Step: ${step.name}"</code></td>
</tr>
<tr>
<td><code>${step.index}</code></td>
<td>Zero-based step index</td>
<td><code>Step ${step.index} of ${total_steps}</code></td>
</tr>
</tbody>
</table>
<p><strong>Available in:</strong> All phases</p>
<h3 id="item-variables-map-phase-only">Item Variables (Map Phase Only)<a class="headerlink" href="#item-variables-map-phase-only" title="Permanent link">&para;</a></h3>
<p>Variables for accessing work item data during parallel processing. The <code>${item.*}</code> syntax supports <strong>arbitrary field access</strong> - you can access any field present in your JSON work items, not just the predefined ones shown below.</p>
<p><strong>Source:</strong> src/cook/workflow/variables.rs:16-23 (item variable resolution)</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${item}</code></td>
<td>Full item object (as string)</td>
<td><code>echo ${item}</code></td>
</tr>
<tr>
<td><code>${item.value}</code></td>
<td>Item value for simple types</td>
<td><code>process ${item.value}</code></td>
</tr>
<tr>
<td><code>${item.path}</code></td>
<td>File path (for file inputs)</td>
<td><code>cat ${item.path}</code></td>
</tr>
<tr>
<td><code>${item.name}</code></td>
<td>Item display name</td>
<td><code>echo "Processing ${item.name}"</code></td>
</tr>
<tr>
<td><code>${item_index}</code></td>
<td>Zero-based item index</td>
<td><code>Item ${item_index}</code></td>
</tr>
<tr>
<td><code>${item_total}</code></td>
<td>Total number of items</td>
<td><code>of ${item_total}</code></td>
</tr>
<tr>
<td><code>${item.*}</code></td>
<td><strong>Any JSON field</strong> - Access arbitrary fields from your work items</td>
<td><code>${item.priority}</code>, <code>${item.custom_field}</code></td>
</tr>
</tbody>
</table>
<p><strong>Available in:</strong> Map phase only</p>
<h4 id="arbitrary-field-access">Arbitrary Field Access<a class="headerlink" href="#arbitrary-field-access" title="Permanent link">&para;</a></h4>
<p>The <code>${item.*}</code> syntax provides full access to any field in your JSON work items. This includes:</p>
<ul>
<li><strong>Top-level fields:</strong> <code>${item.priority}</code>, <code>${item.status}</code>, <code>${item.category}</code></li>
<li><strong>Nested fields:</strong> <code>${item.metadata.author}</code>, <code>${item.config.database.host}</code></li>
<li><strong>Array indices:</strong> <code>${item.tags[0]}</code>, <code>${item.dependencies[2].version}</code></li>
<li><strong>Mixed access:</strong> <code>${item.data.results[0].score}</code></li>
</ul>
<p><strong>Example with custom JSON structure:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Input: items.json</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1"># [</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="c1">#   {</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1">#     &quot;file&quot;: &quot;src/main.rs&quot;,</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c1">#     &quot;priority&quot;: 10,</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="c1">#     &quot;owner&quot;: &quot;backend-team&quot;,</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="c1">#     &quot;metadata&quot;: {</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="c1">#       &quot;last_modified&quot;: &quot;2025-01-10&quot;,</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="c1">#       &quot;reviewer&quot;: &quot;alice&quot;</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="c1">#     },</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="c1">#     &quot;tags&quot;: [&quot;critical&quot;, &quot;security&quot;]</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="c1">#   }</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="c1"># ]</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="nt">map</span><span class="p">:</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">  </span><span class="nt">input</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;items.json&quot;</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">  </span><span class="nt">json_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$[*]&quot;</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">  </span><span class="nt">agent_template</span><span class="p">:</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">    </span><span class="c1"># Access any field from your JSON structure</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Processing</span><span class="nv"> </span><span class="s">${item.file}&#39;&quot;</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Priority:</span><span class="nv"> </span><span class="s">${item.priority}&#39;&quot;</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Owner:</span><span class="nv"> </span><span class="s">${item.owner}&#39;&quot;</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Reviewer:</span><span class="nv"> </span><span class="s">${item.metadata.reviewer}&#39;&quot;</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;First</span><span class="nv"> </span><span class="s">tag:</span><span class="nv"> </span><span class="s">${item.tags[0]}&#39;&quot;</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">claude</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/analyze</span><span class="nv"> </span><span class="s">&#39;${item.file}&#39;</span><span class="nv"> </span><span class="s">--priority</span><span class="nv"> </span><span class="s">${item.priority}</span><span class="nv"> </span><span class="s">--owner</span><span class="nv"> </span><span class="s">${item.owner}&quot;</span>
</code></pre></div></p>
<p><strong>Best Practice:</strong> Use descriptive field names in your JSON work items - they become your variable names.</p>
<h3 id="mapreduce-variables-reduce-phase-only">MapReduce Variables (Reduce Phase Only)<a class="headerlink" href="#mapreduce-variables-reduce-phase-only" title="Permanent link">&para;</a></h3>
<p>Variables for accessing aggregated results from map phase. Map results support <strong>indexed access</strong> for retrieving individual agent results and <strong>nested field access</strong> for extracting specific properties.</p>
<p><strong>Source:</strong> src/cook/execution/mapreduce/utils.rs:119-121, src/cook/execution/mapreduce/reduce_phase.rs:146</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${map.total}</code></td>
<td>Total items in map phase</td>
<td><code>echo "Processed ${map.total} items"</code></td>
</tr>
<tr>
<td><code>${map.successful}</code></td>
<td>Successfully processed items</td>
<td><code>echo "${map.successful} succeeded"</code></td>
</tr>
<tr>
<td><code>${map.failed}</code></td>
<td>Failed items count</td>
<td><code>echo "${map.failed} failed"</code></td>
</tr>
<tr>
<td><code>${map.results}</code></td>
<td>All map results as JSON array</td>
<td><code>echo '${map.results}' \| jq</code></td>
</tr>
<tr>
<td><code>${map.results_json}</code></td>
<td>Alias for <code>map.results</code> (same value)</td>
<td><code>echo '${map.results_json}' \| jq</code></td>
</tr>
<tr>
<td><code>${map.results[index]}</code></td>
<td>Individual result by index (0-based)</td>
<td><code>${map.results[0]}</code>, <code>${map.results[5]}</code></td>
</tr>
<tr>
<td><code>${map.results[index].field}</code></td>
<td>Nested field access</td>
<td><code>${map.results[0].output}</code>, <code>${map.results[2].item_id}</code></td>
</tr>
<tr>
<td><code>${map.key}</code></td>
<td>Key for map output (optional)</td>
<td><code>${map.key}</code></td>
</tr>
<tr>
<td><code>${worker.id}</code></td>
<td>Worker ID for tracking</td>
<td><code>Worker ${worker.id}</code></td>
</tr>
</tbody>
</table>
<p><strong>Available in:</strong> Reduce phase only</p>
<h4 id="indexed-access-to-map-results">Indexed Access to Map Results<a class="headerlink" href="#indexed-access-to-map-results" title="Permanent link">&para;</a></h4>
<p>You can access individual agent results using bracket notation <code>[index]</code> and drill into nested fields with dot notation.</p>
<p><strong>Syntax patterns:</strong>
- <code>${map.results[0]}</code> - First agent result (full object)
- <code>${map.results[0].output}</code> - Output from first agent
- <code>${map.results[0].item_id}</code> - Item ID processed by first agent
- <code>${map.results[0].success}</code> - Success status ("true" or "false")</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nt">reduce</span><span class="p">:</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="c1"># Access specific agent results</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;First</span><span class="nv"> </span><span class="s">result:</span><span class="nv"> </span><span class="s">${map.results[0]}&#39;&quot;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;First</span><span class="nv"> </span><span class="s">output:</span><span class="nv"> </span><span class="s">${map.results[0].output}&#39;&quot;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Second</span><span class="nv"> </span><span class="s">agent</span><span class="nv"> </span><span class="s">processed:</span><span class="nv"> </span><span class="s">${map.results[1].item_id}&#39;&quot;</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">  </span><span class="c1"># Combine with shell commands</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">      </span><span class="no">if [ &quot;${map.results[0].success}&quot; = &quot;true&quot; ]; then</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">        </span><span class="no">echo &quot;First agent succeeded&quot;</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">      </span><span class="no">fi</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">  </span><span class="c1"># Process multiple results</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">      </span><span class="no">echo &quot;Results 0-2:&quot;</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">      </span><span class="no">echo &quot;${map.results[0].item_id}&quot;</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">      </span><span class="no">echo &quot;${map.results[1].item_id}&quot;</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">      </span><span class="no">echo &quot;${map.results[2].item_id}&quot;</span>
</code></pre></div></p>
<h4 id="full-array-processing">Full Array Processing<a class="headerlink" href="#full-array-processing" title="Permanent link">&para;</a></h4>
<p>For processing all results, use <code>${map.results}</code> with JSON tools like <code>jq</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nt">reduce</span><span class="p">:</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="c1"># Count errors using jq</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">      </span><span class="no">echo &#39;${map.results}&#39; | jq &#39;[.[] | select(.status == &quot;error&quot;)] | length&#39;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;error_count&quot;</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">  </span><span class="c1"># Extract all item IDs</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">      </span><span class="no">echo &#39;${map.results}&#39; | jq -r &#39;.[].item_id&#39;</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;processed_items&quot;</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">  </span><span class="c1"># Calculate average score</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">      </span><span class="no">echo &#39;${map.results}&#39; | jq &#39;[.[].score] | add / length&#39;</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;avg_score&quot;</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">  </span><span class="c1"># Filter successful results</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">      </span><span class="no">echo &#39;${map.results}&#39; | jq &#39;[.[] | select(.success == true)]&#39;</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;successful_results&quot;</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">  </span><span class="c1"># Generate summary</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">claude</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/summarize</span><span class="nv"> </span><span class="s">${map.results}</span><span class="nv"> </span><span class="s">--total</span><span class="nv"> </span><span class="s">${map.total}</span><span class="nv"> </span><span class="s">--failed</span><span class="nv"> </span><span class="s">${map.failed}&quot;</span>
</code></pre></div>
<p><strong>Note:</strong> <code>${map.results}</code> and <code>${map.results_json}</code> are equivalent - use whichever is clearer in your context.</p>
<h3 id="git-context-variables">Git Context Variables<a class="headerlink" href="#git-context-variables" title="Permanent link">&para;</a></h3>
<p>Variables tracking git changes throughout workflow execution:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${step.files_added}</code></td>
<td>Files added in current step</td>
<td><code>echo ${step.files_added}</code></td>
</tr>
<tr>
<td><code>${step.files_modified}</code></td>
<td>Files modified in current step</td>
<td><code>echo ${step.files_modified}</code></td>
</tr>
<tr>
<td><code>${step.files_deleted}</code></td>
<td>Files deleted in current step</td>
<td><code>echo ${step.files_deleted}</code></td>
</tr>
<tr>
<td><code>${step.files_changed}</code></td>
<td>All changed files (added + modified + deleted)</td>
<td><code>echo ${step.files_changed}</code></td>
</tr>
<tr>
<td><code>${step.commits}</code></td>
<td>Commits in current step</td>
<td><code>echo ${step.commits}</code></td>
</tr>
<tr>
<td><code>${step.commit_count}</code></td>
<td>Number of commits in step</td>
<td><code>echo "${step.commit_count} commits"</code></td>
</tr>
<tr>
<td><code>${step.insertions}</code></td>
<td>Lines inserted in step</td>
<td><code>echo "+${step.insertions}"</code></td>
</tr>
<tr>
<td><code>${step.deletions}</code></td>
<td>Lines deleted in step</td>
<td><code>echo "-${step.deletions}"</code></td>
</tr>
<tr>
<td><code>${workflow.commits}</code></td>
<td>All commits in workflow</td>
<td><code>git show ${workflow.commits}</code></td>
</tr>
<tr>
<td><code>${workflow.commit_count}</code></td>
<td>Total number of commits</td>
<td><code>echo "${workflow.commit_count} commits"</code></td>
</tr>
</tbody>
</table>
<p><strong>Available in:</strong> All phases (requires git repository)</p>
<h4 id="format-modifiers">Format Modifiers<a class="headerlink" href="#format-modifiers" title="Permanent link">&para;</a></h4>
<p><strong>Important:</strong> These format modifiers work with <strong>all git context variables that return file or commit lists</strong>, not just the examples shown. Apply them to any of: <code>step.files_added</code>, <code>step.files_modified</code>, <code>step.files_deleted</code>, <code>step.files_changed</code>, <code>step.commits</code>, <code>workflow.commits</code>, and merge phase git variables.</p>
<p>Git context variables support multiple output formats:</p>
<table>
<thead>
<tr>
<th>Modifier</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>(default)</td>
<td>Space-separated list</td>
<td><code>${step.files_added}</code>  <code>file1.rs file2.rs</code></td>
</tr>
<tr>
<td><code>:json</code></td>
<td>JSON array format</td>
<td><code>${step.files_added:json}</code>  <code>["file1.rs", "file2.rs"]</code></td>
</tr>
<tr>
<td><code>:lines</code></td>
<td>Newline-separated list</td>
<td><code>${step.files_added:lines}</code>  <code>file1.rs\nfile2.rs</code></td>
</tr>
<tr>
<td><code>:csv</code></td>
<td>Comma-separated list</td>
<td><code>${step.files_added:csv}</code>  <code>file1.rs,file2.rs</code></td>
</tr>
<tr>
<td><code>:*.ext</code></td>
<td>Glob pattern filter</td>
<td><code>${step.files_added:*.rs}</code>  only Rust files</td>
</tr>
<tr>
<td><code>:path/**/*.ext</code></td>
<td>Path with glob</td>
<td><code>${step.files_added:src/**/*.rs}</code>  Rust files in src/</td>
</tr>
</tbody>
</table>
<p><strong>Format Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># JSON format for jq processing</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;${step.files_added:json}&#39;</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">jq</span><span class="nv"> </span><span class="s">-r</span><span class="nv"> </span><span class="s">&#39;.[]&#39;&quot;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1"># Newline format for iteration</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="no">echo &#39;${step.files_modified:lines}&#39; | while read file; do</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">      </span><span class="no">cargo fmt &quot;$file&quot;</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">    </span><span class="no">done</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="c1"># Glob filtering for language-specific operations</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cargo</span><span class="nv"> </span><span class="s">clippy</span><span class="nv"> </span><span class="s">${step.files_modified:*.rs}&quot;</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="c1"># Multiple glob patterns</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;git</span><span class="nv"> </span><span class="s">diff</span><span class="nv"> </span><span class="s">${step.files_modified:*.rs,*.toml}&quot;</span>
</code></pre></div></p>
<h3 id="merge-variables-merge-phase-only">Merge Variables (Merge Phase Only)<a class="headerlink" href="#merge-variables-merge-phase-only" title="Permanent link">&para;</a></h3>
<p>Variables available during the merge phase when integrating worktree changes. Merge variables include both basic context and comprehensive git tracking information.</p>
<p><strong>Source:</strong> src/worktree/merge_orchestrator.rs:340-423</p>
<h4 id="basic-merge-context">Basic Merge Context<a class="headerlink" href="#basic-merge-context" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${merge.worktree}</code></td>
<td>Worktree name being merged</td>
<td><code>echo ${merge.worktree}</code></td>
</tr>
<tr>
<td><code>${merge.source_branch}</code></td>
<td>Source branch from worktree</td>
<td><code>git log ${merge.source_branch}</code></td>
</tr>
<tr>
<td><code>${merge.target_branch}</code></td>
<td>Target branch (where you started)</td>
<td><code>git merge ${merge.source_branch}</code></td>
</tr>
<tr>
<td><code>${merge.session_id}</code></td>
<td>Session ID for correlation</td>
<td><code>echo ${merge.session_id}</code></td>
</tr>
</tbody>
</table>
<h4 id="merge-git-context-variables">Merge Git Context Variables<a class="headerlink" href="#merge-git-context-variables" title="Permanent link">&para;</a></h4>
<p>Additional variables tracking git changes during the merge operation:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Format</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${merge.commits}</code></td>
<td>All commits from worktree</td>
<td>JSON array</td>
<td><code>echo '${merge.commits}' \| jq</code></td>
</tr>
<tr>
<td><code>${merge.commit_count}</code></td>
<td>Number of commits</td>
<td>Integer</td>
<td><code>echo "${merge.commit_count} commits"</code></td>
</tr>
<tr>
<td><code>${merge.commit_ids}</code></td>
<td>Short commit IDs</td>
<td>Comma-separated</td>
<td><code>git show ${merge.commit_ids}</code></td>
</tr>
<tr>
<td><code>${merge.modified_files}</code></td>
<td>Modified files with metadata</td>
<td>JSON array</td>
<td><code>echo '${merge.modified_files}' \| jq</code></td>
</tr>
<tr>
<td><code>${merge.file_count}</code></td>
<td>Number of modified files</td>
<td>Integer</td>
<td><code>echo "${merge.file_count} files"</code></td>
</tr>
<tr>
<td><code>${merge.file_list}</code></td>
<td>File paths</td>
<td>Comma-separated</td>
<td><code>echo ${merge.file_list}</code></td>
</tr>
</tbody>
</table>
<p><strong>Available in:</strong> Merge phase only</p>
<p><strong>Limits:</strong> Capped at 100 commits and 500 files to prevent overwhelming workflows (configurable in GitOperationsConfig).</p>
<h4 id="merge-context-examples">Merge Context Examples<a class="headerlink" href="#merge-context-examples" title="Permanent link">&para;</a></h4>
<p><strong>Basic merge workflow:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nt">merge</span><span class="p">:</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="nt">commands</span><span class="p">:</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;git</span><span class="nv"> </span><span class="s">fetch</span><span class="nv"> </span><span class="s">origin&quot;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;git</span><span class="nv"> </span><span class="s">merge</span><span class="nv"> </span><span class="s">origin/${merge.target_branch}&quot;</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">claude</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/prodigy-merge-worktree</span><span class="nv"> </span><span class="s">${merge.source_branch}</span><span class="nv"> </span><span class="s">${merge.target_branch}&quot;</span>
</code></pre></div></p>
<p><strong>Using git context variables:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nt">merge</span><span class="p">:</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="nt">commands</span><span class="p">:</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="c1"># Show merge summary</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">        </span><span class="no">echo &quot;Merging worktree: ${merge.worktree}&quot;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">        </span><span class="no">echo &quot;Commits: ${merge.commit_count}&quot;</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">        </span><span class="no">echo &quot;Files modified: ${merge.file_count}&quot;</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="c1"># List all commits being merged</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Commit</span><span class="nv"> </span><span class="s">IDs:</span><span class="nv"> </span><span class="s">${merge.commit_ids}&#39;&quot;</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">    </span><span class="c1"># Process commits as JSON</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">        </span><span class="no">echo &#39;${merge.commits}&#39; | jq -r &#39;.[] | &quot;\(.short_id): \(.message)&quot;&#39;</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="w">    </span><span class="c1"># Check specific files</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="w">        </span><span class="no">echo &#39;${merge.modified_files}&#39; | jq -r &#39;.[].path&#39;</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="w">    </span><span class="c1"># Conditional merge based on file count</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="w">        </span><span class="no">if [ ${merge.file_count} -gt 50 ]; then</span>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="w">          </span><span class="no">echo &quot;Large merge detected, requesting review&quot;</span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="w">        </span><span class="no">fi</span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="w">    </span><span class="c1"># Perform merge</span>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">claude</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/prodigy-merge-worktree</span><span class="nv"> </span><span class="s">${merge.source_branch}</span><span class="nv"> </span><span class="s">${merge.target_branch}&quot;</span>
</code></pre></div></p>
<h4 id="commit-object-structure">Commit Object Structure<a class="headerlink" href="#commit-object-structure" title="Permanent link">&para;</a></h4>
<p>The <code>${merge.commits}</code> variable contains an array of commit objects with this structure:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="p">[</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;full-sha-hash&quot;</span><span class="p">,</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="nt">&quot;short_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abc1234&quot;</span><span class="p">,</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Author Name&quot;</span><span class="p">,</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">      </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;author@example.com&quot;</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Commit message&quot;</span><span class="p">,</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-10T12:00:00Z&quot;</span><span class="p">,</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="nt">&quot;files_changed&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;file1.rs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;file2.rs&quot;</span><span class="p">]</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="p">]</span>
</code></pre></div>
<p><strong>Source:</strong> src/cook/execution/mapreduce/resources/git_operations.rs:280-293</p>
<h4 id="file-object-structure">File Object Structure<a class="headerlink" href="#file-object-structure" title="Permanent link">&para;</a></h4>
<p>The <code>${merge.modified_files}</code> variable contains an array of file modification objects:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="p">[</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;src/main.rs&quot;</span><span class="p">,</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="nt">&quot;modification_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Modified&quot;</span><span class="p">,</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="nt">&quot;size_before&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">    </span><span class="nt">&quot;size_after&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1156</span><span class="p">,</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span><span class="nt">&quot;last_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-10T12:00:00Z&quot;</span><span class="p">,</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">    </span><span class="nt">&quot;commit_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abc1234&quot;</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="p">]</span>
</code></pre></div>
<p><strong>Source:</strong> src/cook/execution/mapreduce/resources/git_operations.rs:311-322</p>
<h3 id="validation-variables">Validation Variables<a class="headerlink" href="#validation-variables" title="Permanent link">&para;</a></h3>
<p>Variables for workflow validation and completion tracking:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${validation.completion}</code></td>
<td>Completion percentage (0-100)</td>
<td><code>echo "${validation.completion}%"</code></td>
</tr>
<tr>
<td><code>${validation.gaps}</code></td>
<td>Array of missing requirements</td>
<td><code>echo '${validation.gaps}'</code></td>
</tr>
<tr>
<td><code>${validation.status}</code></td>
<td>Status: complete/incomplete/failed</td>
<td><code>if [ "${validation.status}" = "complete" ]</code></td>
</tr>
</tbody>
</table>
<p><strong>Available in:</strong> Goal seek and validation phases</p>
<h3 id="variable-interpolation-syntax">Variable Interpolation Syntax<a class="headerlink" href="#variable-interpolation-syntax" title="Permanent link">&para;</a></h3>
<p>Prodigy supports two interpolation syntaxes:</p>
<ul>
<li><strong><code>${VAR}</code></strong> - Preferred syntax, works in all contexts (recommended)</li>
<li><strong><code>$VAR</code></strong> - Shell-style syntax, simpler but may have limitations</li>
</ul>
<p><strong>When to use <code>${VAR}</code>:</strong>
- In YAML values with special characters
- For nested field access: <code>${item.nested.field}</code>
- When combining with text: <code>prefix_${var}_suffix</code>
- For format modifiers: <code>${step.files:json}</code></p>
<p><strong>When <code>$VAR</code> works:</strong>
- Simple variable names in shell commands
- Environment variables in shell context
- Quick substitutions without special characters</p>
<p><strong>Best Practice:</strong> Always use <code>${VAR}</code> syntax for consistency and reliability.</p>
<h3 id="legacy-variable-aliases">Legacy Variable Aliases<a class="headerlink" href="#legacy-variable-aliases" title="Permanent link">&para;</a></h3>
<p>For backward compatibility, Prodigy supports legacy variable aliases from earlier versions. These are still functional but <strong>deprecated</strong> - prefer the current variable names in new workflows.</p>
<p><strong>Source:</strong> src/cook/workflow/variables.rs (legacy alias definitions)</p>
<table>
<thead>
<tr>
<th>Legacy Alias</th>
<th>Current Variable</th>
<th>Context</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${ARG}</code></td>
<td><code>${item.value}</code></td>
<td>Map phase</td>
<td>Deprecated</td>
</tr>
<tr>
<td><code>${ARGUMENT}</code></td>
<td><code>${item.value}</code></td>
<td>Map phase</td>
<td>Deprecated</td>
</tr>
<tr>
<td><code>${FILE}</code></td>
<td><code>${item.path}</code></td>
<td>Map phase</td>
<td>Deprecated</td>
</tr>
<tr>
<td><code>${FILE_PATH}</code></td>
<td><code>${item.path}</code></td>
<td>Map phase</td>
<td>Deprecated</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># Old style (still works but discouraged)</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nt">map</span><span class="p">:</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="nt">agent_template</span><span class="p">:</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;process</span><span class="nv"> </span><span class="s">${ARG}&quot;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cat</span><span class="nv"> </span><span class="s">${FILE}&quot;</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="c1"># New style (recommended)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="nt">map</span><span class="p">:</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">  </span><span class="nt">agent_template</span><span class="p">:</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;process</span><span class="nv"> </span><span class="s">${item.value}&quot;</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cat</span><span class="nv"> </span><span class="s">${item.path}&quot;</span>
</code></pre></div></p>
<p><strong>Migration Recommendation:</strong> Update legacy aliases to current variable names when maintaining older workflows. The current names are more explicit and work better with arbitrary JSON field access.</p>
<h4 id="default-values">Default Values<a class="headerlink" href="#default-values" title="Permanent link">&para;</a></h4>
<p>Provide fallback values for undefined or missing variables using the <code>:-</code> syntax (bash/shell convention):</p>
<p><strong>Syntax:</strong> <code>${variable:-default_value}</code></p>
<p><strong>Source:</strong> src/cook/execution/interpolation.rs:277</p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Use default if variable is undefined</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Timeout:</span><span class="nv"> </span><span class="s">${timeout:-600}&#39;&quot;</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span><span class="c1"># Output: &quot;Timeout: 600&quot; if timeout is not defined</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="c1"># Fallback for optional configuration</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cargo</span><span class="nv"> </span><span class="s">build</span><span class="nv"> </span><span class="s">--profile</span><span class="nv"> </span><span class="s">${build_profile:-dev}&quot;</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">  </span><span class="c1"># Uses &quot;dev&quot; profile if build_profile not set</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="c1"># Default for MapReduce variables</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Processed</span><span class="nv"> </span><span class="s">${map.successful:-0}</span><span class="nv"> </span><span class="s">items&#39;&quot;</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">  </span><span class="c1"># Shows &quot;0&quot; if map.successful is not available</span>
</code></pre></div></p>
<p><strong>Behavior with Interpolation Modes:</strong>
- <strong>Non-strict mode (default):</strong> Uses default value if variable is undefined
- <strong>Strict mode:</strong> Default value syntax prevents errors for optional variables</p>
<h4 id="interpolation-modes">Interpolation Modes<a class="headerlink" href="#interpolation-modes" title="Permanent link">&para;</a></h4>
<p>Prodigy supports two modes for handling undefined variables:</p>
<p><strong>Non-strict Mode (Default):</strong>
- Leaves placeholders unresolved when variable is undefined
- Example: <code>${undefined}</code> remains as <code>${undefined}</code> in output
- With default: <code>${undefined:-fallback}</code> becomes <code>fallback</code>
- Use case: Workflows that can handle partial variable resolution</p>
<p><strong>Strict Mode:</strong>
- Fails immediately on undefined variables
- Example: <code>${undefined}</code> causes workflow to fail with comprehensive error
- Error message lists all available variables for debugging
- Use case: Production workflows requiring all variables to be properly defined</p>
<p><strong>Source:</strong> src/cook/execution/interpolation.rs:16-17, 104-137</p>
<p><strong>Configuration:</strong>
Strict mode is configured per InterpolationEngine instance and controlled at the workflow execution level.</p>
<p><strong>Best Practice:</strong> Use strict mode during development to catch variable name typos and scope issues early. Use default values (<code>${var:-default}</code>) for truly optional configuration.</p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Non-strict mode (graceful degradation)</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Config:</span><span class="nv"> </span><span class="s">${optional_config:-none}&#39;&quot;</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">  </span><span class="c1"># Works even if optional_config is undefined</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="c1"># Strict mode (fail fast)</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="c1"># If required_var is undefined, workflow stops with error:</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="c1"># &quot;Variable interpolation failed: required_var not found.</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="c1">#  Available variables: workflow.name, workflow.id, step.index, ...&quot;</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Required:</span><span class="nv"> </span><span class="s">${required_var}&#39;&quot;</span>
</code></pre></div></p>
<h3 id="variable-scoping-and-precedence">Variable Scoping and Precedence<a class="headerlink" href="#variable-scoping-and-precedence" title="Permanent link">&para;</a></h3>
<h4 id="scope-by-phase">Scope by Phase<a class="headerlink" href="#scope-by-phase" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Phase</th>
<th>Variables Available</th>
</tr>
</thead>
<tbody>
<tr>
<td>Setup</td>
<td>Standard, workflow context, step context, git context, custom captured</td>
</tr>
<tr>
<td>Map</td>
<td>Standard, workflow context, step context, git context, item variables, custom captured</td>
</tr>
<tr>
<td>Reduce</td>
<td>Standard, workflow context, step context, git context, MapReduce variables, custom captured</td>
</tr>
<tr>
<td>Merge</td>
<td>Standard, workflow context, step context, merge variables, custom captured</td>
</tr>
</tbody>
</table>
<p><strong>Important:</strong> Setup phase captures are available in map and reduce phases. Map phase captures are only available within that specific agent. Reduce phase captures are available to subsequent reduce steps.</p>
<h4 id="variable-precedence-highest-to-lowest">Variable Precedence (highest to lowest)<a class="headerlink" href="#variable-precedence-highest-to-lowest" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Custom captured variables</strong> (<code>capture_output</code>)</li>
<li><strong>Phase-specific built-in variables</strong> (<code>item.*</code>, <code>map.*</code>, <code>merge.*</code>)</li>
<li><strong>Step context variables</strong> (<code>step.*</code>)</li>
<li><strong>Workflow context variables</strong> (<code>workflow.*</code>)</li>
<li><strong>Standard output variables</strong> (<code>last.output</code>, <code>shell.output</code>)</li>
<li><strong>Environment variables</strong> (static workflow-level <code>env</code> block)</li>
<li><strong>Computed variables</strong> (<code>env.*</code>, <code>file:*</code>, <code>cmd:*</code>, <code>json:*</code>, <code>date:*</code>, <code>uuid</code>)</li>
</ol>
<p><strong>Note:</strong> Computed variables have lowest precedence because they're evaluated on-demand. If a custom variable has the same name as a computed variable, the custom variable wins.</p>
<p><strong>Shadowing Warning:</strong> Custom captures can shadow built-in variable names. Avoid using names like <code>item</code>, <code>map</code>, <code>workflow</code>, etc. as custom variable names.</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Bad: shadows built-in ${item}</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;custom</span><span class="nv"> </span><span class="s">command&quot;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">  </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;item&quot;</span><span class="w">  </span><span class="c1"># Don&#39;t do this!</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="c1"># Good: descriptive custom name</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;custom</span><span class="nv"> </span><span class="s">command&quot;</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">  </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;custom_result&quot;</span>
</code></pre></div></p>
<h4 id="parent-context-resolution">Parent Context Resolution<a class="headerlink" href="#parent-context-resolution" title="Permanent link">&para;</a></h4>
<p>Variable resolution walks up a parent context chain when variables are not found in the current context. This enables variable inheritance across workflow phases and nested contexts.</p>
<p><strong>Source:</strong> src/cook/execution/interpolation.rs:200-226, InterpolationContext struct at :376-381</p>
<p><strong>Resolution Order:</strong>
1. Check current context
2. If not found, check parent context
3. If not found in parent, check parent's parent
4. Continue until variable is found or no parent exists
5. If not found and has default value, use default
6. If not found in strict mode, fail with error listing available variables</p>
<p><strong>Benefits:</strong>
- Nested workflow contexts inherit variables from parent workflows
- Foreach loops access both loop-level and workflow-level variables
- Map agents access setup phase variables
- Reduce phase accesses both map results and setup variables</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nt">setup</span><span class="p">:</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pwd&quot;</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;workspace_root&quot;</span><span class="w">  </span><span class="c1"># Available to all agents via parent context</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;git</span><span class="nv"> </span><span class="s">rev-parse</span><span class="nv"> </span><span class="s">HEAD&quot;</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;base_commit&quot;</span><span class="w">     </span><span class="c1"># Also inherited by map agents</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="nt">map</span><span class="p">:</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">  </span><span class="nt">input</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;items.json&quot;</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span><span class="nt">json_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$.items[*]&quot;</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">  </span><span class="nt">agent_template</span><span class="p">:</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;processing</span><span class="nv"> </span><span class="s">${item.name}&#39;&quot;</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">      </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;item_status&quot;</span><span class="w">  </span><span class="c1"># Only in this agent&#39;s context</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cd</span><span class="nv"> </span><span class="s">${workspace_root}&quot;</span><span class="w">  </span><span class="c1"># Resolved from parent (setup) context</span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;git</span><span class="nv"> </span><span class="s">diff</span><span class="nv"> </span><span class="s">${base_commit}&quot;</span><span class="w"> </span><span class="c1"># Also from parent context</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Status:</span><span class="nv"> </span><span class="s">${item_status}&#39;&quot;</span><span class="w"> </span><span class="c1"># From current agent context</span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="nt">reduce</span><span class="p">:</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="w">  </span><span class="c1"># Can access setup variables but NOT individual agent&#39;s item_status</span>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cd</span><span class="nv"> </span><span class="s">${workspace_root}&quot;</span><span class="w">  </span><span class="c1"># From setup phase parent context</span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Base:</span><span class="nv"> </span><span class="s">${base_commit}&#39;&quot;</span><span class="w">  </span><span class="c1"># Also from setup phase</span>
</code></pre></div></p>
<p><strong>Context Hierarchy:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>Setup Context (workspace_root, base_commit)
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>     parent
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>Map Agent Context (item, item_status, workspace_root*, base_commit*)
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>     parent
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>Reduce Context (map.results, workspace_root*, base_commit*)
</code></pre></div></p>
<p>*Inherited from parent context</p>
<h3 id="reduce-phase-access-to-item-data">Reduce Phase Access to Item Data<a class="headerlink" href="#reduce-phase-access-to-item-data" title="Permanent link">&para;</a></h3>
<p>In the reduce phase, individual item variables (<code>${item.*}</code>) are not directly available, but you can access all item data through <code>${map.results}</code>, which contains the aggregated results from all map agents.</p>
<p><strong>Examples:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nt">reduce</span><span class="p">:</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="c1"># Count items with specific property</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">      </span><span class="no">echo &#39;${map.results}&#39; | jq &#39;[.[] | select(.type == &quot;error&quot;)] | length&#39;</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;error_count&quot;</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">  </span><span class="c1"># Extract all file paths processed</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">      </span><span class="no">echo &#39;${map.results}&#39; | jq -r &#39;.[].item.path&#39;</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;all_paths&quot;</span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="w">  </span><span class="c1"># Aggregate numeric field</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">      </span><span class="no">echo &#39;${map.results}&#39; | jq &#39;[.[].coverage] | add / length&#39;</span>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;avg_coverage&quot;</span>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">  </span><span class="c1"># Filter and transform results</span>
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="w">      </span><span class="no">echo &#39;${map.results}&#39; | jq &#39;[.[] | select(.item.priority &gt; 5) | .item.name]&#39;</span>
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="w">    </span><span class="nt">capture_output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;high_priority_items&quot;</span>
</code></pre></div></p>
<h3 id="performance-template-caching">Performance: Template Caching<a class="headerlink" href="#performance-template-caching" title="Permanent link">&para;</a></h3>
<p>Prodigy implements <strong>dual caching</strong> for optimal performance: template parsing cache and operation result cache.</p>
<p><strong>Source:</strong> src/cook/execution/interpolation.rs:18-19, 68-75; src/cook/execution/variables.rs:218-256</p>
<h4 id="template-parse-caching">Template Parse Caching<a class="headerlink" href="#template-parse-caching" title="Permanent link">&para;</a></h4>
<p>When the same variable template is used multiple times, the template is parsed once and reused:</p>
<p><strong>How It Works:</strong>
- First use: Template is parsed and cached
- Subsequent uses: Cached template is reused (no re-parsing)
- Cache key: Exact template string
- Automatic: No configuration needed</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># Template &quot;${item.path} --priority ${item.metadata.priority:-5}&quot;</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="c1"># is parsed once, then reused for all 1000 items</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="nt">map</span><span class="p">:</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">  </span><span class="nt">input</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;items.json&quot;</span><span class="w">  </span><span class="c1"># 1000 items</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">  </span><span class="nt">json_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$.items[*]&quot;</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">  </span><span class="nt">agent_template</span><span class="p">:</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;process</span><span class="nv"> </span><span class="s">${item.path}</span><span class="nv"> </span><span class="s">--priority</span><span class="nv"> </span><span class="s">${item.metadata.priority:-5}&quot;</span>
</code></pre></div></p>
<h4 id="computed-variable-caching_1">Computed Variable Caching<a class="headerlink" href="#computed-variable-caching_1" title="Permanent link">&para;</a></h4>
<p>Expensive computed operations (file reads, command execution) have separate result caching:</p>
<p><strong>Cached Operations:</strong>
- <code>${env.VAR}</code> - Environment variable lookups
- <code>${file:path}</code> - File system reads
- <code>${cmd:command}</code> - Shell command execution</p>
<p><strong>Not Cached:</strong>
- <code>${json:path:from:var}</code> - JSON parsing is fast
- <code>${date:format}</code> - Values change over time
- <code>${uuid}</code> - Must be unique</p>
<p><strong>Cache Details:</strong>
- <strong>Type:</strong> LRU (Least Recently Used) cache
- <strong>Size:</strong> 100 entries maximum
- <strong>Scope:</strong> Per workflow execution
- <strong>Thread Safety:</strong> Async RwLock protection</p>
<p><strong>Performance Impact:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># First shell command: Reads .commit-message.txt from disk</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;git</span><span class="nv"> </span><span class="s">commit</span><span class="nv"> </span><span class="s">-m</span><span class="nv"> </span><span class="s">&#39;${file:.commit-message.txt}&#39;&quot;</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="c1"># Second shell command: Uses cached file content (no disk read)</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">&#39;Message:</span><span class="nv"> </span><span class="s">${file:.commit-message.txt}&#39;&quot;</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="c1"># Third shell command: Still uses cache</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test</span><span class="nv"> </span><span class="s">-n</span><span class="nv"> </span><span class="s">&#39;${file:.commit-message.txt}&#39;&quot;</span>
</code></pre></div></p>
<p><strong>Benefits:</strong>
- <strong>Faster interpolation</strong> for repeated templates (template cache)
- <strong>Reduced I/O</strong> for repeated file reads (operation cache)
- <strong>Lower CPU</strong> for repeated command execution (operation cache)
- <strong>Reduced latency</strong> in MapReduce workflows</p>
<p><strong>When It Matters Most:</strong>
- MapReduce workflows with many work items (&gt;100)
- Workflows using the same computed variables repeatedly
- High-frequency variable interpolation in loops
- Templates with multiple variables and nested field access</p>
<p><strong>Note:</strong> All caching is transparent and automatic. You don't need any configuration to benefit from it. Both caches persist for the lifetime of the workflow execution.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Glen Baker
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "navigation.tracking", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>